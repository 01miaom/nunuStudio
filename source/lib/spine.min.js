var __extends=this&&this.__extends||function(d,n){function g(){this.constructor=d}for(var b in n)n.hasOwnProperty(b)&&(d[b]=n[b]);d.prototype=null===n?Object.create(n):(g.prototype=n.prototype,new g)},spine;
(function(d){var n=function(){function a(f,a,c){if(null==f)throw Error("name cannot be null.");if(null==a)throw Error("timelines cannot be null.");this.name=f;this.timelines=a;this.duration=c}a.prototype.apply=function(f,a,c,b,e,d,g,p){if(null==f)throw Error("skeleton cannot be null.");b&&0!=this.duration&&(c%=this.duration,0<a&&(a%=this.duration));b=this.timelines;for(var k=0,l=b.length;k<l;k++)b[k].apply(f,a,c,e,d,g,p)};a.binarySearch=function(f,a,c){void 0===c&&(c=1);var b=0,k=f.length/c-2;if(0==
k)return c;for(var l=k>>>1;;){f[(l+1)*c]<=a?b=l+1:k=l;if(b==k)return(b+1)*c;l=b+k>>>1}};a.linearSearch=function(f,a,c){for(var b=0,k=f.length-c;b<=k;b+=c)if(f[b]>a)return b;return-1};return a}();d.Animation=n;(function(a){a[a.rotate=0]="rotate";a[a.translate=1]="translate";a[a.scale=2]="scale";a[a.shear=3]="shear";a[a.attachment=4]="attachment";a[a.color=5]="color";a[a.deform=6]="deform";a[a.event=7]="event";a[a.drawOrder=8]="drawOrder";a[a.ikConstraint=9]="ikConstraint";a[a.transformConstraint=10]=
"transformConstraint";a[a.pathConstraintPosition=11]="pathConstraintPosition";a[a.pathConstraintSpacing=12]="pathConstraintSpacing";a[a.pathConstraintMix=13]="pathConstraintMix"})(d.TimelineType||(d.TimelineType={}));var g=d.TimelineType,b=function(){function a(f){if(0>=f)throw Error("frameCount must be > 0: "+f);this.curves=d.Utils.newFloatArray((f-1)*a.BEZIER_SIZE)}a.prototype.getFrameCount=function(){return this.curves.length/a.BEZIER_SIZE+1};a.prototype.setLinear=function(f){this.curves[f*a.BEZIER_SIZE]=
a.LINEAR};a.prototype.setStepped=function(f){this.curves[f*a.BEZIER_SIZE]=a.STEPPED};a.prototype.getCurveType=function(f){f*=a.BEZIER_SIZE;if(f==this.curves.length)return a.LINEAR;f=this.curves[f];return f==a.LINEAR?a.LINEAR:f==a.STEPPED?a.STEPPED:a.BEZIER};a.prototype.setCurve=function(f,b,c,e,d){var k=.03*(2*-b+e),l=.03*(2*-c+d);e=.006*(3*(b-e)+1);d=.006*(3*(c-d)+1);var h=2*k+e,r=2*l+d;b=.3*b+k+.16666667*e;c=.3*c+l+.16666667*d;f*=a.BEZIER_SIZE;l=this.curves;l[f++]=a.BEZIER;for(var k=b,y=c,g=f+a.BEZIER_SIZE-
1;f<g;f+=2)l[f]=k,l[f+1]=y,b+=h,c+=r,h+=e,r+=d,k+=b,y+=c};a.prototype.getCurvePercent=function(f,b){b=d.MathUtils.clamp(b,0,1);var k=this.curves,c=f*a.BEZIER_SIZE,e=k[c];if(e==a.LINEAR)return b;if(e==a.STEPPED)return 0;c++;for(var e=0,m=c,g=c+a.BEZIER_SIZE-1;c<g;c+=2)if(e=k[c],e>=b)return c==m?g=m=0:(m=k[c-2],g=k[c-1]),g+(k[c+1]-g)*(b-m)/(e-m);k=k[c-1];return k+(1-k)*(b-e)/(1-e)};a.LINEAR=0;a.STEPPED=1;a.BEZIER=2;a.BEZIER_SIZE=19;return a}();d.CurveTimeline=b;var a=function(a){function f(f){a.call(this,
f);this.frames=d.Utils.newFloatArray(f<<1)}__extends(f,a);f.prototype.getPropertyId=function(){return(g.rotate<<24)+this.boneIndex};f.prototype.setFrame=function(a,b,c){a<<=1;this.frames[a]=b;this.frames[a+f.ROTATION]=c};f.prototype.apply=function(a,b,c,e,d,g,p){b=this.frames;a=a.bones[this.boneIndex];if(c<b[0])g&&(a.rotation=a.data.rotation);else if(c>=b[b.length-f.ENTRIES])g?a.rotation=a.data.rotation+b[b.length+f.PREV_ROTATION]*d:(g=a.data.rotation+b[b.length+f.PREV_ROTATION]-a.rotation,a.rotation+=
(g-360*(16384-(16384.499999999996-g/360|0)))*d);else{p=n.binarySearch(b,c,f.ENTRIES);e=b[p+f.PREV_ROTATION];var k=b[p];c=this.getCurvePercent((p>>1)-1,1-(c-k)/(b[p+f.PREV_TIME]-k));b=b[p+f.ROTATION]-e;b=e+(b-360*(16384-(16384.499999999996-b/360|0)))*c;g?a.rotation=a.data.rotation+(b-360*(16384-(16384.499999999996-b/360|0)))*d:(b=a.data.rotation+b-a.rotation,a.rotation+=(b-360*(16384-(16384.499999999996-b/360|0)))*d)}};f.ENTRIES=2;f.PREV_TIME=-2;f.PREV_ROTATION=-1;f.ROTATION=1;return f}(b);d.RotateTimeline=
a;a=function(a){function f(b){a.call(this,b);this.frames=d.Utils.newFloatArray(b*f.ENTRIES)}__extends(f,a);f.prototype.getPropertyId=function(){return(g.translate<<24)+this.boneIndex};f.prototype.setFrame=function(a,b,c,e){a*=f.ENTRIES;this.frames[a]=b;this.frames[a+f.X]=c;this.frames[a+f.Y]=e};f.prototype.apply=function(a,b,c,e,d,g,p){b=this.frames;a=a.bones[this.boneIndex];if(c<b[0])g&&(a.x=a.data.x,a.y=a.data.y);else{if(c>=b[b.length-f.ENTRIES])e=b[b.length+f.PREV_X],p=b[b.length+f.PREV_Y];else{var k=
n.binarySearch(b,c,f.ENTRIES);e=b[k+f.PREV_X];p=b[k+f.PREV_Y];var l=b[k];c=this.getCurvePercent(k/f.ENTRIES-1,1-(c-l)/(b[k+f.PREV_TIME]-l));e+=(b[k+f.X]-e)*c;p+=(b[k+f.Y]-p)*c}g?(a.x=a.data.x+e*d,a.y=a.data.y+p*d):(a.x+=(a.data.x+e-a.x)*d,a.y+=(a.data.y+p-a.y)*d)}};f.ENTRIES=3;f.PREV_TIME=-3;f.PREV_X=-2;f.PREV_Y=-1;f.X=1;f.Y=2;return f}(b);d.TranslateTimeline=a;var e=function(a){function f(f){a.call(this,f)}__extends(f,a);f.prototype.getPropertyId=function(){return(g.scale<<24)+this.boneIndex};f.prototype.apply=
function(a,b,c,e,m,g,p){var k=this.frames;a=a.bones[this.boneIndex];if(c<k[0])g&&(a.scaleX=a.data.scaleX,a.scaleY=a.data.scaleY);else{if(c>=k[k.length-f.ENTRIES])b=k[k.length+f.PREV_X]*a.data.scaleX,e=k[k.length+f.PREV_Y]*a.data.scaleY;else{var l=n.binarySearch(k,c,f.ENTRIES);b=k[l+f.PREV_X];e=k[l+f.PREV_Y];var h=k[l];c=this.getCurvePercent(l/f.ENTRIES-1,1-(c-h)/(k[l+f.PREV_TIME]-h));b=(b+(k[l+f.X]-b)*c)*a.data.scaleX;e=(e+(k[l+f.Y]-e)*c)*a.data.scaleY}1==m?(a.scaleX=b,a.scaleY=e):(g?(g=a.data.scaleX,
c=a.data.scaleY):(g=a.scaleX,c=a.scaleY),p?(b=Math.abs(b)*d.MathUtils.signum(g),e=Math.abs(e)*d.MathUtils.signum(c)):(g=Math.abs(g)*d.MathUtils.signum(b),c=Math.abs(c)*d.MathUtils.signum(e)),a.scaleX=g+(b-g)*m,a.scaleY=c+(e-c)*m)}};return f}(a);d.ScaleTimeline=e;a=function(a){function f(f){a.call(this,f)}__extends(f,a);f.prototype.getPropertyId=function(){return(g.shear<<24)+this.boneIndex};f.prototype.apply=function(a,b,c,e,d,g,p){b=this.frames;a=a.bones[this.boneIndex];if(c<b[0])g&&(a.shearX=a.data.shearX,
a.shearY=a.data.shearY);else{if(c>=b[b.length-f.ENTRIES])e=b[b.length+f.PREV_X],p=b[b.length+f.PREV_Y];else{var k=n.binarySearch(b,c,f.ENTRIES);e=b[k+f.PREV_X];p=b[k+f.PREV_Y];var l=b[k];c=this.getCurvePercent(k/f.ENTRIES-1,1-(c-l)/(b[k+f.PREV_TIME]-l));e+=(b[k+f.X]-e)*c;p+=(b[k+f.Y]-p)*c}g?(a.shearX=a.data.shearX+e*d,a.shearY=a.data.shearY+p*d):(a.shearX+=(a.data.shearX+e-a.shearX)*d,a.shearY+=(a.data.shearY+p-a.shearY)*d)}};return f}(a);d.ShearTimeline=a;a=function(a){function f(b){a.call(this,
b);this.frames=d.Utils.newFloatArray(b*f.ENTRIES)}__extends(f,a);f.prototype.getPropertyId=function(){return(g.color<<24)+this.slotIndex};f.prototype.setFrame=function(a,b,c,e,d,g){a*=f.ENTRIES;this.frames[a]=b;this.frames[a+f.R]=c;this.frames[a+f.G]=e;this.frames[a+f.B]=d;this.frames[a+f.A]=g};f.prototype.apply=function(a,b,c,e,d,g,p){a=a.slots[this.slotIndex];var k=this.frames;if(c<k[0])g&&a.color.setFromColor(a.data.color);else{var l;if(c>=k[k.length-f.ENTRIES])c=k.length,b=k[c+f.PREV_R],e=k[c+
f.PREV_G],p=k[c+f.PREV_B],l=k[c+f.PREV_A];else{var h=n.binarySearch(k,c,f.ENTRIES);b=k[h+f.PREV_R];e=k[h+f.PREV_G];p=k[h+f.PREV_B];l=k[h+f.PREV_A];var m=k[h];c=this.getCurvePercent(h/f.ENTRIES-1,1-(c-m)/(k[h+f.PREV_TIME]-m));b+=(k[h+f.R]-b)*c;e+=(k[h+f.G]-e)*c;p+=(k[h+f.B]-p)*c;l+=(k[h+f.A]-l)*c}1==d?a.color.set(b,e,p,l):(c=a.color,g&&c.setFromColor(a.data.color),c.add((b-c.r)*d,(e-c.g)*d,(p-c.b)*d,(l-c.a)*d))}};f.ENTRIES=5;f.PREV_TIME=-5;f.PREV_R=-4;f.PREV_G=-3;f.PREV_B=-2;f.PREV_A=-1;f.R=1;f.G=
2;f.B=3;f.A=4;return f}(b);d.ColorTimeline=a;a=function(){function a(a){this.frames=d.Utils.newFloatArray(a);this.attachmentNames=Array(a)}a.prototype.getPropertyId=function(){return(g.attachment<<24)+this.slotIndex};a.prototype.getFrameCount=function(){return this.frames.length};a.prototype.setFrame=function(a,b,c){this.frames[a]=b;this.attachmentNames[a]=c};a.prototype.apply=function(a,b,c,e,d,g,q){b=a.slots[this.slotIndex];q&&g?(c=b.data.attachmentName,b.setAttachment(null==c?null:a.getAttachment(this.slotIndex,
c))):(q=this.frames,c<q[0]?g&&(c=b.data.attachmentName,b.setAttachment(null==c?null:a.getAttachment(this.slotIndex,c))):(c=c>=q[q.length-1]?q.length-1:n.binarySearch(q,c,1)-1,c=this.attachmentNames[c],a.slots[this.slotIndex].setAttachment(null==c?null:a.getAttachment(this.slotIndex,c))))};return a}();d.AttachmentTimeline=a;a=function(a){function b(b){a.call(this,b);this.frames=d.Utils.newFloatArray(b);this.frameVertices=Array(b)}__extends(b,a);b.prototype.getPropertyId=function(){return(g.deform<<
24)+this.slotIndex};b.prototype.setFrame=function(a,b,f){this.frames[a]=b;this.frameVertices[a]=f};b.prototype.apply=function(a,b,f,c,e,g,p){a=a.slots[this.slotIndex];var k=a.getAttachment();if(k instanceof d.VertexAttachment&&k.applyDeform(this.attachment)){var l=this.frames;b=a.attachmentVertices;if(f<l[0])g&&d.Utils.setArraySize(b,0);else if(p=this.frameVertices,a=p[0].length,b.length!=a&&(e=1),b=d.Utils.setArraySize(b,a),f>=l[l.length-1])if(f=p[l.length-1],1==e)d.Utils.arrayCopy(f,0,b,0,a);else if(g)if(g=
k,null==g.bones)for(g=g.vertices,k=0;k<a;k++)l=g[k],b[k]=l+(f[k]-l)*e;else for(k=0;k<a;k++)b[k]=f[k]*e;else for(k=0;k<a;k++)b[k]+=(f[k]-b[k])*e;else{var h=n.binarySearch(l,f);c=p[h-1];p=p[h];var m=l[h];f=this.getCurvePercent(h-1,1-(f-m)/(l[h-1]-m));if(1==e)for(k=0;k<a;k++)h=c[k],b[k]=h+(p[k]-h)*f;else if(g)if(g=k,null==g.bones)for(g=g.vertices,k=0;k<a;k++)h=c[k],l=g[k],b[k]=l+(h+(p[k]-h)*f-l)*e;else for(k=0;k<a;k++)h=c[k],b[k]=(h+(p[k]-h)*f)*e;else for(k=0;k<a;k++)h=c[k],b[k]+=(h+(p[k]-h)*f-b[k])*
e}}};return b}(b);d.DeformTimeline=a;a=function(){function a(a){this.frames=d.Utils.newFloatArray(a);this.events=Array(a)}a.prototype.getPropertyId=function(){return g.event<<24};a.prototype.getFrameCount=function(){return this.frames.length};a.prototype.setFrame=function(a,b){this.frames[a]=b.time;this.events[a]=b};a.prototype.apply=function(a,b,c,e,d,g,q){if(null!=e){var f=this.frames,k=this.frames.length;if(b>c)this.apply(a,b,Number.MAX_VALUE,e,d,g,q),b=-1;else if(b>=f[k-1])return;if(!(c<f[0])){if(b<
f[0])a=0;else for(a=n.binarySearch(f,b),b=f[a];0<a&&f[a-1]==b;)a--;for(;a<k&&c>=f[a];a++)e.push(this.events[a])}}};return a}();d.EventTimeline=a;a=function(){function a(a){this.frames=d.Utils.newFloatArray(a);this.drawOrders=Array(a)}a.prototype.getPropertyId=function(){return g.drawOrder<<24};a.prototype.getFrameCount=function(){return this.frames.length};a.prototype.setFrame=function(a,b,c){this.frames[a]=b;this.drawOrders[a]=c};a.prototype.apply=function(a,b,c,e,g,m,q){b=a.drawOrder;e=a.slots;
if(q&&m)d.Utils.arrayCopy(a.slots,0,a.drawOrder,0,a.slots.length);else if(q=this.frames,c<q[0])m&&d.Utils.arrayCopy(a.slots,0,a.drawOrder,0,a.slots.length);else if(a=c>=q[q.length-1]?q.length-1:n.binarySearch(q,c)-1,a=this.drawOrders[a],null==a)d.Utils.arrayCopy(e,0,b,0,e.length);else for(c=0,m=a.length;c<m;c++)b[c]=e[a[c]]};return a}();d.DrawOrderTimeline=a;a=function(a){function b(c){a.call(this,c);this.frames=d.Utils.newFloatArray(c*b.ENTRIES)}__extends(b,a);b.prototype.getPropertyId=function(){return(g.ikConstraint<<
24)+this.ikConstraintIndex};b.prototype.setFrame=function(a,c,f,e){a*=b.ENTRIES;this.frames[a]=c;this.frames[a+b.MIX]=f;this.frames[a+b.BEND_DIRECTION]=e};b.prototype.apply=function(a,c,f,e,d,g,p){c=this.frames;a=a.ikConstraints[this.ikConstraintIndex];if(f<c[0])g&&(a.mix=a.data.mix,a.bendDirection=a.data.bendDirection);else if(f>=c[c.length-b.ENTRIES])g?(a.mix=a.data.mix+(c[c.length+b.PREV_MIX]-a.data.mix)*d,a.bendDirection=p?a.data.bendDirection:c[c.length+b.PREV_BEND_DIRECTION]):(a.mix+=(c[c.length+
b.PREV_MIX]-a.mix)*d,p||(a.bendDirection=c[c.length+b.PREV_BEND_DIRECTION]));else{e=n.binarySearch(c,f,b.ENTRIES);var k=c[e+b.PREV_MIX],l=c[e];f=this.getCurvePercent(e/b.ENTRIES-1,1-(f-l)/(c[e+b.PREV_TIME]-l));g?(a.mix=a.data.mix+(k+(c[e+b.MIX]-k)*f-a.data.mix)*d,a.bendDirection=p?a.data.bendDirection:c[e+b.PREV_BEND_DIRECTION]):(a.mix+=(k+(c[e+b.MIX]-k)*f-a.mix)*d,p||(a.bendDirection=c[e+b.PREV_BEND_DIRECTION]))}};b.ENTRIES=3;b.PREV_TIME=-3;b.PREV_MIX=-2;b.PREV_BEND_DIRECTION=-1;b.MIX=1;b.BEND_DIRECTION=
2;return b}(b);d.IkConstraintTimeline=a;a=function(a){function b(c){a.call(this,c);this.frames=d.Utils.newFloatArray(c*b.ENTRIES)}__extends(b,a);b.prototype.getPropertyId=function(){return(g.transformConstraint<<24)+this.transformConstraintIndex};b.prototype.setFrame=function(a,c,f,e,d,g){a*=b.ENTRIES;this.frames[a]=c;this.frames[a+b.ROTATE]=f;this.frames[a+b.TRANSLATE]=e;this.frames[a+b.SCALE]=d;this.frames[a+b.SHEAR]=g};b.prototype.apply=function(a,c,f,e,d,g,p){c=this.frames;a=a.transformConstraints[this.transformConstraintIndex];
if(f<c[0])g&&(g=a.data,a.rotateMix=g.rotateMix,a.translateMix=g.rotateMix,a.scaleMix=g.scaleMix,a.shearMix=g.shearMix);else{var k,l;if(f>=c[c.length-b.ENTRIES])f=c.length,e=c[f+b.PREV_ROTATE],p=c[f+b.PREV_TRANSLATE],k=c[f+b.PREV_SCALE],l=c[f+b.PREV_SHEAR];else{var h=n.binarySearch(c,f,b.ENTRIES);e=c[h+b.PREV_ROTATE];p=c[h+b.PREV_TRANSLATE];k=c[h+b.PREV_SCALE];l=c[h+b.PREV_SHEAR];var m=c[h];f=this.getCurvePercent(h/b.ENTRIES-1,1-(f-m)/(c[h+b.PREV_TIME]-m));e+=(c[h+b.ROTATE]-e)*f;p+=(c[h+b.TRANSLATE]-
p)*f;k+=(c[h+b.SCALE]-k)*f;l+=(c[h+b.SHEAR]-l)*f}g?(g=a.data,a.rotateMix=g.rotateMix+(e-g.rotateMix)*d,a.translateMix=g.translateMix+(p-g.translateMix)*d,a.scaleMix=g.scaleMix+(k-g.scaleMix)*d,a.shearMix=g.shearMix+(l-g.shearMix)*d):(a.rotateMix+=(e-a.rotateMix)*d,a.translateMix+=(p-a.translateMix)*d,a.scaleMix+=(k-a.scaleMix)*d,a.shearMix+=(l-a.shearMix)*d)}};b.ENTRIES=5;b.PREV_TIME=-5;b.PREV_ROTATE=-4;b.PREV_TRANSLATE=-3;b.PREV_SCALE=-2;b.PREV_SHEAR=-1;b.ROTATE=1;b.TRANSLATE=2;b.SCALE=3;b.SHEAR=
4;return b}(b);d.TransformConstraintTimeline=a;a=function(a){function b(c){a.call(this,c);this.frames=d.Utils.newFloatArray(c*b.ENTRIES)}__extends(b,a);b.prototype.getPropertyId=function(){return(g.pathConstraintPosition<<24)+this.pathConstraintIndex};b.prototype.setFrame=function(a,c,f){a*=b.ENTRIES;this.frames[a]=c;this.frames[a+b.VALUE]=f};b.prototype.apply=function(a,c,f,e,d,g,p){c=this.frames;a=a.pathConstraints[this.pathConstraintIndex];if(f<c[0])g&&(a.position=a.data.position);else{if(f>=c[c.length-
b.ENTRIES])e=c[c.length+b.PREV_VALUE];else{p=n.binarySearch(c,f,b.ENTRIES);e=c[p+b.PREV_VALUE];var k=c[p];f=this.getCurvePercent(p/b.ENTRIES-1,1-(f-k)/(c[p+b.PREV_TIME]-k));e+=(c[p+b.VALUE]-e)*f}a.position=g?a.data.position+(e-a.data.position)*d:a.position+(e-a.position)*d}};b.ENTRIES=2;b.PREV_TIME=-2;b.PREV_VALUE=-1;b.VALUE=1;return b}(b);d.PathConstraintPositionTimeline=a;a=function(a){function b(b){a.call(this,b)}__extends(b,a);b.prototype.getPropertyId=function(){return(g.pathConstraintSpacing<<
24)+this.pathConstraintIndex};b.prototype.apply=function(a,c,f,e,d,g,p){c=this.frames;a=a.pathConstraints[this.pathConstraintIndex];if(f<c[0])g&&(a.spacing=a.data.spacing);else{if(f>=c[c.length-b.ENTRIES])e=c[c.length+b.PREV_VALUE];else{p=n.binarySearch(c,f,b.ENTRIES);e=c[p+b.PREV_VALUE];var k=c[p];f=this.getCurvePercent(p/b.ENTRIES-1,1-(f-k)/(c[p+b.PREV_TIME]-k));e+=(c[p+b.VALUE]-e)*f}a.spacing=g?a.data.spacing+(e-a.data.spacing)*d:a.spacing+(e-a.spacing)*d}};return b}(a);d.PathConstraintSpacingTimeline=
a;b=function(a){function b(c){a.call(this,c);this.frames=d.Utils.newFloatArray(c*b.ENTRIES)}__extends(b,a);b.prototype.getPropertyId=function(){return(g.pathConstraintMix<<24)+this.pathConstraintIndex};b.prototype.setFrame=function(a,c,f,e){a*=b.ENTRIES;this.frames[a]=c;this.frames[a+b.ROTATE]=f;this.frames[a+b.TRANSLATE]=e};b.prototype.apply=function(a,c,f,e,d,g,p){c=this.frames;a=a.pathConstraints[this.pathConstraintIndex];if(f<c[0])g&&(a.rotateMix=a.data.rotateMix,a.translateMix=a.data.translateMix);
else{if(f>=c[c.length-b.ENTRIES])e=c[c.length+b.PREV_ROTATE],p=c[c.length+b.PREV_TRANSLATE];else{var k=n.binarySearch(c,f,b.ENTRIES);e=c[k+b.PREV_ROTATE];p=c[k+b.PREV_TRANSLATE];var l=c[k];f=this.getCurvePercent(k/b.ENTRIES-1,1-(f-l)/(c[k+b.PREV_TIME]-l));e+=(c[k+b.ROTATE]-e)*f;p+=(c[k+b.TRANSLATE]-p)*f}g?(a.rotateMix=a.data.rotateMix+(e-a.data.rotateMix)*d,a.translateMix=a.data.translateMix+(p-a.data.translateMix)*d):(a.rotateMix+=(e-a.rotateMix)*d,a.translateMix+=(p-a.translateMix)*d)}};b.ENTRIES=
3;b.PREV_TIME=-3;b.PREV_ROTATE=-2;b.PREV_TRANSLATE=-1;b.ROTATE=1;b.TRANSLATE=2;return b}(b);d.PathConstraintMixTimeline=b})(spine||(spine={}));
(function(d){var n=function(){function a(a){this.tracks=[];this.events=[];this.listeners=[];this.queue=new b(this);this.propertyIDs=new d.IntSet;this.animationsChanged=!1;this.timeScale=1;this.trackEntryPool=new d.Pool(function(){return new g});this.data=a}a.prototype.update=function(a){a*=this.timeScale;for(var b=this.tracks,c=0,e=b.length;c<e;c++){var h=b[c];if(null!=h){h.animationLast=h.nextAnimationLast;h.trackLast=h.nextTrackLast;var d=a*h.timeScale;if(0<h.delay){h.delay-=d;if(0<h.delay)continue;
d=-h.delay;h.delay=0}var g=h.next;if(null!=g){var q=h.trackLast-g.delay;if(0<=q){g.delay=0;g.trackTime=q+a*g.timeScale;h.trackTime+=d;for(this.setCurrent(c,g,!0);null!=g.mixingFrom;)g.mixTime+=d,g=g.mixingFrom;continue}}else if(h.trackLast>=h.trackEnd&&null==h.mixingFrom){b[c]=null;this.queue.end(h);this.disposeNext(h);continue}this.updateMixingFrom(h,a);h.trackTime+=d}}this.queue.drain()};a.prototype.updateMixingFrom=function(a,b){var c=a.mixingFrom;null!=c&&(this.updateMixingFrom(c,b),a.mixTime>=
a.mixDuration&&null!=c.mixingFrom&&0<a.mixTime?(a.mixingFrom=null,this.queue.end(c)):(c.animationLast=c.nextAnimationLast,c.trackLast=c.nextTrackLast,c.trackTime+=b*c.timeScale,a.mixTime+=b*c.timeScale))};a.prototype.apply=function(a){if(null==a)throw Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var b=this.events,c=this.tracks,e=0,h=c.length;e<h;e++){var g=c[e];if(!(null==g||0<g.delay)){var m=g.alpha;null!=g.mixingFrom?m*=this.applyMixingFrom(g,a):g.trackTime>=
g.trackEnd&&(m=0);var q=g.animationLast,p=g.getAnimationTime(),r=g.animation.timelines.length,z=g.animation.timelines;if(1==m)for(var t=0;t<r;t++)z[t].apply(a,q,p,b,1,!0,!1);else{var u=0==g.timelinesRotation.length;u&&d.Utils.setArraySize(g.timelinesRotation,r<<1,null);for(var n=g.timelinesRotation,B=g.timelinesFirst,t=0;t<r;t++){var v=z[t];v instanceof d.RotateTimeline?this.applyRotateTimeline(v,a,p,m,B[t],n,t<<1,u):v.apply(a,q,p,b,m,B[t],!1)}}this.queueEvents(g,p);b.length=0;g.nextAnimationLast=
p;g.nextTrackLast=g.trackTime}}this.queue.drain()};a.prototype.applyMixingFrom=function(a,b){var c=a.mixingFrom;null!=c.mixingFrom&&this.applyMixingFrom(c,b);var f;0==a.mixDuration?f=1:(f=a.mixTime/a.mixDuration,1<f&&(f=1));var e=f<c.eventThreshold?this.events:null,g=f<c.attachmentThreshold,m=f<c.drawOrderThreshold,q=c.animationLast,p=c.getAnimationTime(),r=c.animation.timelines.length,z=c.animation.timelines,t=c.timelinesFirst,u=c.alpha*a.mixAlpha*(1-f),n=0==c.timelinesRotation.length;n&&d.Utils.setArraySize(c.timelinesRotation,
r<<1,null);for(var B=c.timelinesRotation,v=0;v<r;v++){var w=z[v],A=t[v];if(w instanceof d.RotateTimeline)this.applyRotateTimeline(w,b,p,u,A,B,v<<1,n);else{if(!A){if(!g&&w instanceof d.AttachmentTimeline)continue;if(!m&&w instanceof d.DrawOrderTimeline)continue}w.apply(b,q,p,e,u,A,!0)}}0<a.mixDuration&&this.queueEvents(c,p);this.events.length=0;c.nextAnimationLast=p;c.nextTrackLast=c.trackTime;return f};a.prototype.applyRotateTimeline=function(a,b,e,l,h,g,m,q){q&&(g[m]=0);if(1==l)a.apply(b,0,e,null,
1,h,!1);else{var c=a.frames;b=b.bones[a.boneIndex];if(e<c[0])h&&(b.rotation=b.data.rotation);else{if(e>=c[c.length-d.RotateTimeline.ENTRIES])c=b.data.rotation+c[c.length+d.RotateTimeline.PREV_ROTATION];else{var f=d.Animation.binarySearch(c,e,d.RotateTimeline.ENTRIES),k=c[f+d.RotateTimeline.PREV_ROTATION],y=c[f];a=a.getCurvePercent((f>>1)-1,1-(e-y)/(c[f+d.RotateTimeline.PREV_TIME]-y));c=c[f+d.RotateTimeline.ROTATION]-k;c=k+(c-360*(16384-(16384.499999999996-c/360|0)))*a+b.data.rotation;c-=360*(16384-
(16384.499999999996-c/360|0))}h=h?b.data.rotation:b.rotation;c-=h;0==c?e=g[m]:(c-=360*(16384-(16384.499999999996-c/360|0)),q?(q=0,e=c):(q=g[m],e=g[m+1]),k=0<c,a=0<=q,d.MathUtils.signum(e)!=d.MathUtils.signum(c)&&90>=Math.abs(e)&&(180<Math.abs(q)&&(q+=360*d.MathUtils.signum(q)),a=k),e=c+q-q%360,a!=k&&(e+=360*d.MathUtils.signum(q)),g[m]=e);g[m+1]=c;h+=e*l;b.rotation=h-360*(16384-(16384.499999999996-h/360|0))}}};a.prototype.queueEvents=function(a,b){for(var c=a.animationStart,f=a.animationEnd,e=f-c,
d=a.trackLast%e,g=this.events,q=0,p=g.length;q<p;q++){var r=g[q];if(r.time<d)break;r.time>f||this.queue.event(a,r)}for((a.loop?d>a.trackTime%e:b>=f&&a.animationLast<f)&&this.queue.complete(a);q<p;q++)g[q].time<c||this.queue.event(a,g[q])};a.prototype.clearTracks=function(){var a=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var b=0,e=this.tracks.length;b<e;b++)this.clearTrack(b);this.tracks.length=0;this.queue.drainDisabled=a;this.queue.drain()};a.prototype.clearTrack=function(a){if(!(a>=
this.tracks.length)&&(a=this.tracks[a],null!=a)){this.queue.end(a);this.disposeNext(a);for(var b=a;;){var c=b.mixingFrom;if(null==c)break;this.queue.end(c);b.mixingFrom=null;b=c}this.tracks[a.trackIndex]=null;this.queue.drain()}};a.prototype.setCurrent=function(a,b,e){var c=this.expandToIndex(a);this.tracks[a]=b;null!=c&&(e&&this.queue.interrupt(c),b.mixingFrom=c,b.mixTime=0,c.timelinesRotation.length=0,null!=c.mixingFrom&&0<c.mixDuration&&(b.mixAlpha*=Math.min(c.mixTime/c.mixDuration,1)));this.queue.start(b)};
a.prototype.setAnimation=function(a,b,e){var c=this.data.skeletonData.findAnimation(b);if(null==c)throw Error("Animation not found: "+b);return this.setAnimationWith(a,c,e)};a.prototype.setAnimationWith=function(a,b,e){if(null==b)throw Error("animation cannot be null.");var c=!0,f=this.expandToIndex(a);null!=f&&(-1==f.nextTrackLast?(this.tracks[a]=f.mixingFrom,this.queue.interrupt(f),this.queue.end(f),this.disposeNext(f),f=f.mixingFrom,c=!1):this.disposeNext(f));b=this.trackEntry(a,b,e,f);this.setCurrent(a,
b,c);this.queue.drain();return b};a.prototype.addAnimation=function(a,b,e,d){var c=this.data.skeletonData.findAnimation(b);if(null==c)throw Error("Animation not found: "+b);return this.addAnimationWith(a,c,e,d)};a.prototype.addAnimationWith=function(a,b,e,d){if(null==b)throw Error("animation cannot be null.");var c=this.expandToIndex(a);if(null!=c)for(;null!=c.next;)c=c.next;e=this.trackEntry(a,b,e,c);null==c?(this.setCurrent(a,e,!0),this.queue.drain()):(c.next=e,0>=d&&(a=c.animationEnd-c.animationStart,
d=0!=a?d+(a*(1+(c.trackTime/a|0))-this.data.getMix(c.animation,b)):0));e.delay=d;return e};a.prototype.setEmptyAnimation=function(b,e){var c=this.setAnimationWith(b,a.emptyAnimation,!1);c.mixDuration=e;c.trackEnd=e;return c};a.prototype.addEmptyAnimation=function(b,e,k){0>=k&&(k-=e);b=this.addAnimationWith(b,a.emptyAnimation,!1,k);b.mixDuration=e;b.trackEnd=e;return b};a.prototype.setEmptyAnimations=function(a){var b=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var c=0,e=this.tracks.length;c<
e;c++){var d=this.tracks[c];null!=d&&this.setEmptyAnimation(d.trackIndex,a)}this.queue.drainDisabled=b;this.queue.drain()};a.prototype.expandToIndex=function(a){if(a<this.tracks.length)return this.tracks[a];d.Utils.ensureArrayCapacity(this.tracks,a-this.tracks.length+1,null);this.tracks.length=a+1;return null};a.prototype.trackEntry=function(a,b,e,d){var c=this.trackEntryPool.obtain();c.trackIndex=a;c.animation=b;c.loop=e;c.eventThreshold=0;c.attachmentThreshold=0;c.drawOrderThreshold=0;c.animationStart=
0;c.animationEnd=b.duration;c.animationLast=-1;c.nextAnimationLast=-1;c.delay=0;c.trackTime=0;c.trackLast=-1;c.nextTrackLast=-1;c.trackEnd=Number.MAX_VALUE;c.timeScale=1;c.alpha=1;c.mixAlpha=1;c.mixTime=0;c.mixDuration=null==d?0:this.data.getMix(d.animation,b);return c};a.prototype.disposeNext=function(a){for(var b=a.next;null!=b;)this.queue.dispose(b),b=b.next;a.next=null};a.prototype._animationsChanged=function(){this.animationsChanged=!1;var a=0,b=this.tracks.length;for(this.propertyIDs.clear();a<
b;a++){var e=this.tracks[a];if(null!=e){this.setTimelinesFirst(e);a++;break}}for(;a<b;a++)e=this.tracks[a],null!=e&&this.checkTimelinesFirst(e)};a.prototype.setTimelinesFirst=function(a){if(null!=a.mixingFrom)this.setTimelinesFirst(a.mixingFrom),this.checkTimelinesUsage(a,a.timelinesFirst);else{var b=this.propertyIDs,c=a.animation.timelines,e=c.length;a=d.Utils.setArraySize(a.timelinesFirst,e,!1);for(var g=0;g<e;g++)b.add(c[g].getPropertyId()),a[g]=!0}};a.prototype.checkTimelinesFirst=function(a){null!=
a.mixingFrom&&this.checkTimelinesFirst(a.mixingFrom);this.checkTimelinesUsage(a,a.timelinesFirst)};a.prototype.checkTimelinesUsage=function(a,b){for(var c=this.propertyIDs,e=a.animation.timelines,f=e.length,g=d.Utils.setArraySize(b,f),m=0;m<f;m++)g[m]=c.add(e[m].getPropertyId())};a.prototype.getCurrent=function(a){return a>=this.tracks.length?null:this.tracks[a]};a.prototype.addListener=function(a){if(null==a)throw Error("listener cannot be null.");this.listeners.push(a)};a.prototype.removeListener=
function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1)};a.prototype.clearListeners=function(){this.listeners.length=0};a.prototype.clearListenerNotifications=function(){this.queue.clear()};a.emptyAnimation=new d.Animation("<empty>",[],0);return a}();d.AnimationState=n;var g=function(){function a(){this.timelinesFirst=[];this.timelinesRotation=[]}a.prototype.reset=function(){this.listener=this.animation=this.mixingFrom=this.next=null;this.timelinesFirst.length=0;this.timelinesRotation.length=
0};a.prototype.getAnimationTime=function(){if(this.loop){var a=this.animationEnd-this.animationStart;return 0==a?this.animationStart:this.trackTime%a+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)};a.prototype.setAnimationLast=function(a){this.nextAnimationLast=this.animationLast=a};a.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart};a.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0};
return a}();d.TrackEntry=g;var b=function(){function b(a){this.objects=[];this.drainDisabled=!1;this.animState=a}b.prototype.start=function(b){this.objects.push(a.start);this.objects.push(b);this.animState.animationsChanged=!0};b.prototype.interrupt=function(b){this.objects.push(a.interrupt);this.objects.push(b)};b.prototype.end=function(b){this.objects.push(a.end);this.objects.push(b);this.animState.animationsChanged=!0};b.prototype.dispose=function(b){this.objects.push(a.dispose);this.objects.push(b)};
b.prototype.complete=function(b){this.objects.push(a.complete);this.objects.push(b)};b.prototype.event=function(b,e){this.objects.push(a.event);this.objects.push(b);this.objects.push(e)};b.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var b=this.objects,e=this.animState.listeners,k=0;k<b.length;k+=2){var d=b[k+1];switch(b[k]){case a.start:null!=d.listener&&d.listener.start&&d.listener.start(d);for(var g=0;g<e.length;g++)e[g].start&&e[g].start(d);break;case a.interrupt:null!=
d.listener&&d.listener.interrupt&&d.listener.interrupt(d);for(g=0;g<e.length;g++)e[g].interrupt&&e[g].interrupt(d);break;case a.end:for(null!=d.listener&&d.listener.end&&d.listener.end(d),g=0;g<e.length;g++)e[g].end&&e[g].end(d);case a.dispose:null!=d.listener&&d.listener.dispose&&d.listener.dispose(d);for(g=0;g<e.length;g++)e[g].dispose&&e[g].dispose(d);this.animState.trackEntryPool.free(d);break;case a.complete:null!=d.listener&&d.listener.complete&&d.listener.complete(d);for(g=0;g<e.length;g++)e[g].complete&&
e[g].complete(d);break;case a.event:var y=b[k++ +2];null!=d.listener&&d.listener.event&&d.listener.event(d,y);for(g=0;g<e.length;g++)e[g].event&&e[g].event(d,y)}}this.clear();this.drainDisabled=!1}};b.prototype.clear=function(){this.objects.length=0};return b}();d.EventQueue=b;(function(a){a[a.start=0]="start";a[a.interrupt=1]="interrupt";a[a.end=2]="end";a[a.dispose=3]="dispose";a[a.complete=4]="complete";a[a.event=5]="event"})(d.EventType||(d.EventType={}));var a=d.EventType,n=function(){function a(){}
a.prototype.start=function(a){};a.prototype.interrupt=function(a){};a.prototype.end=function(a){};a.prototype.dispose=function(a){};a.prototype.complete=function(a){};a.prototype.event=function(a,b){};return a}();d.AnimationStateAdapter2=n})(spine||(spine={}));
(function(d){var n=function(){function d(b){this.animationToMixTime={};this.defaultMix=0;if(null==b)throw Error("skeletonData cannot be null.");this.skeletonData=b}d.prototype.setMix=function(b,a,e){var c=this.skeletonData.findAnimation(b);if(null==c)throw Error("Animation not found: "+b);b=this.skeletonData.findAnimation(a);if(null==b)throw Error("Animation not found: "+a);this.setMixWith(c,b,e)};d.prototype.setMixWith=function(b,a,e){if(null==b)throw Error("from cannot be null.");if(null==a)throw Error("to cannot be null.");
this.animationToMixTime[b.name+a.name]=e};d.prototype.getMix=function(b,a){var e=this.animationToMixTime[b.name+a.name];return void 0===e?this.defaultMix:e};return d}();d.AnimationStateData=n})(spine||(spine={}));
(function(d){var n=function(){function d(b,a){void 0===a&&(a="");this.assets={};this.errors={};this.loaded=this.toLoad=0;this.textureLoader=b;this.pathPrefix=a}d.prototype.loadText=function(b,a,e){var c=this;void 0===a&&(a=null);void 0===e&&(e=null);b=this.pathPrefix+b;this.toLoad++;var f=new XMLHttpRequest;f.onreadystatechange=function(){f.readyState==XMLHttpRequest.DONE&&(200<=f.status&&300>f.status?(c.assets[b]=f.responseText,a&&a(b,f.responseText)):(c.errors[b]="Couldn't load text "+b+": status "+
f.status+", "+f.responseText,e&&e(b,"Couldn't load text "+b+": status "+f.status+", "+f.responseText)),c.toLoad--,c.loaded++)};f.open("GET",b,!0);f.send()};d.prototype.loadTexture=function(b,a,e){var c=this;void 0===a&&(a=null);void 0===e&&(e=null);b=this.pathPrefix+b;this.toLoad++;var f=new Image;f.crossOrigin="anonymous";f.src=b;f.onload=function(e){e=c.textureLoader(f);c.assets[b]=e;c.toLoad--;c.loaded++;a&&a(b,f)};f.onerror=function(a){c.errors[b]="Couldn't load image "+b;c.toLoad--;c.loaded++;
e&&e(b,"Couldn't load image "+b)}};d.prototype.get=function(b){b=this.pathPrefix+b;return this.assets[b]};d.prototype.remove=function(b){b=this.pathPrefix+b;var a=this.assets[b];a.dispose&&a.dispose();this.assets[b]=null};d.prototype.removeAll=function(){for(var b in this.assets){var a=this.assets[b];a.dispose&&a.dispose()}this.assets={}};d.prototype.isLoadingComplete=function(){return 0==this.toLoad};d.prototype.getToLoad=function(){return this.toLoad};d.prototype.getLoaded=function(){return this.loaded};
d.prototype.dispose=function(){this.removeAll()};d.prototype.hasErrors=function(){return 0<Object.keys(this.errors).length};d.prototype.getErrors=function(){return this.errors};return d}();d.AssetManager=n})(spine||(spine={}));
(function(d){var n=function(){function g(b){this.atlas=b}g.prototype.newRegionAttachment=function(b,a,e){b=this.atlas.findRegion(e);if(null==b)throw Error("Region not found in atlas: "+e+" (region attachment: "+a+")");b.renderObject=b;a=new d.RegionAttachment(a);a.setRegion(b);return a};g.prototype.newMeshAttachment=function(b,a,e){b=this.atlas.findRegion(e);if(null==b)throw Error("Region not found in atlas: "+e+" (mesh attachment: "+a+")");b.renderObject=b;a=new d.MeshAttachment(a);a.region=b;return a};
g.prototype.newBoundingBoxAttachment=function(b,a){return new d.BoundingBoxAttachment(a)};g.prototype.newPathAttachment=function(b,a){return new d.PathAttachment(a)};return g}();d.AtlasAttachmentLoader=n})(spine||(spine={}));
(function(d){var n=function(){return function(d){if(null==d)throw Error("name cannot be null.");this.name=d}}();d.Attachment=n;n=function(d){function b(a){d.call(this,a);this.worldVerticesLength=0}__extends(b,d);b.prototype.computeWorldVertices=function(a,b){this.computeWorldVerticesWith(a,0,this.worldVerticesLength,b,0)};b.prototype.computeWorldVerticesWith=function(a,b,c,f,k){c+=k;var e=a.bone.skeleton,d=a.attachmentVertices,g=this.vertices,m=this.bones;if(null==m){0<d.length&&(g=d);a=a.bone;var d=
a.worldX,m=a.worldY,q=a.a,e=a.b,p=a.c;a=a.d;for(var r=b;k<c;r+=2,k+=2){b=g[r];var z=g[r+1];f[k]=b*q+z*e+d;f[k+1]=b*p+z*a+m}}else{for(z=a=q=0;z<b;z+=2)p=m[q],q+=p+1,a+=p;r=e.bones;if(0==d.length)for(e=3*a;k<c;k+=2){for(var t=0,u=0,p=m[q++],p=p+q;q<p;q++,e+=3){a=r[m[q]];b=g[e];var z=g[e+1],n=g[e+2],t=t+(b*a.a+z*a.b+a.worldX)*n,u=u+(b*a.c+z*a.d+a.worldY)*n}f[k]=t;f[k+1]=u}else for(var e=3*a,B=a<<1;k<c;k+=2){u=t=0;p=m[q++];for(p+=q;q<p;q++,e+=3,B+=2)a=r[m[q]],b=g[e]+d[B],z=g[e+1]+d[B+1],n=g[e+2],t+=(b*
a.a+z*a.b+a.worldX)*n,u+=(b*a.c+z*a.d+a.worldY)*n;f[k]=t;f[k+1]=u}}};b.prototype.applyDeform=function(a){return this==a};return b}(n);d.VertexAttachment=n})(spine||(spine={}));(function(d){d=d.AttachmentType||(d.AttachmentType={});d[d.Region=0]="Region";d[d.BoundingBox=1]="BoundingBox";d[d.Mesh=2]="Mesh";d[d.LinkedMesh=3]="LinkedMesh";d[d.Path=4]="Path"})(spine||(spine={}));
(function(d){var n=function(g){function b(a){g.call(this,a);this.color=new d.Color(1,1,1,1)}__extends(b,g);return b}(d.VertexAttachment);d.BoundingBoxAttachment=n})(spine||(spine={}));
(function(d){var n=function(g){function b(a){g.call(this,a);this.color=new d.Color(1,1,1,1);this.inheritDeform=!1;this.tempColor=new d.Color(0,0,0,0)}__extends(b,g);b.prototype.updateUVs=function(){var a=this.regionUVs,b=a.length,c=8*(b>>1);if(null==this.worldVertices||this.worldVertices.length!=c)this.worldVertices=d.Utils.newFloatArray(c);var f,k,g;null==this.region?(c=f=0,k=g=1):(c=this.region.u,f=this.region.v,k=this.region.u2-c,g=this.region.v2-f);if(this.region.rotate)for(var h=0,y=6;h<b;h+=
2,y+=8)this.worldVertices[y]=c+a[h+1]*k,this.worldVertices[y+1]=f+g-a[h]*g;else for(h=0,y=6;h<b;h+=2,y+=8)this.worldVertices[y]=c+a[h]*k,this.worldVertices[y+1]=f+a[h+1]*g};b.prototype.updateWorldVertices=function(a,b){var c=a.bone.skeleton,e=c.color,k=a.color,d=this.color,g=e.a*k.a*d.a,y=b?g:1,m=this.tempColor;m.set(e.r*k.r*d.r*y,e.g*k.g*d.g*y,e.b*k.b*d.b*y,g);var q=a.attachmentVertices,e=this.vertices,k=this.worldVertices,p=this.bones;if(null==p){p=e.length;0<q.length&&(e=q);for(var r=a.bone,q=
r.worldX,n=r.worldY,t=r.a,c=r.b,u=r.c,r=r.d,g=d=0;d<p;d+=2,g+=8){var y=e[d],x=e[d+1];k[g]=y*t+x*c+q;k[g+1]=y*u+x*r+n;k[g+2]=m.r;k[g+3]=m.g;k[g+4]=m.b;k[g+5]=m.a}return k}n=c.bones;if(0==q.length)for(c=d=g=0,t=p.length;d<t;g+=8){for(var B=u=0,v=p[d++]+d;d<v;d++,c+=3)var r=n[p[d]],y=e[c],x=e[c+1],w=e[c+2],u=u+(y*r.a+x*r.b+r.worldX)*w,B=B+(y*r.c+x*r.d+r.worldY)*w;k[g]=u;k[g+1]=B;k[g+2]=m.r;k[g+3]=m.g;k[g+4]=m.b;k[g+5]=m.a}else for(var A=c=d=g=0,t=p.length;d<t;g+=8){B=u=0;for(v=p[d++]+d;d<v;d++,c+=3,
A+=2)r=n[p[d]],y=e[c]+q[A],x=e[c+1]+q[A+1],w=e[c+2],u+=(y*r.a+x*r.b+r.worldX)*w,B+=(y*r.c+x*r.d+r.worldY)*w;k[g]=u;k[g+1]=B;k[g+2]=m.r;k[g+3]=m.g;k[g+4]=m.b;k[g+5]=m.a}return k};b.prototype.applyDeform=function(a){return this==a||this.inheritDeform&&this.parentMesh==a};b.prototype.getParentMesh=function(){return this.parentMesh};b.prototype.setParentMesh=function(a){this.parentMesh=a;null!=a&&(this.bones=a.bones,this.vertices=a.vertices,this.regionUVs=a.regionUVs,this.triangles=a.triangles,this.hullLength=
a.hullLength,this.worldVerticesLength=a.worldVerticesLength)};return b}(d.VertexAttachment);d.MeshAttachment=n})(spine||(spine={}));(function(d){var n=function(g){function b(a){g.call(this,a);this.constantSpeed=this.closed=!1;this.color=new d.Color(1,1,1,1)}__extends(b,g);return b}(d.VertexAttachment);d.PathAttachment=n})(spine||(spine={}));
(function(d){var n=function(g){function b(a){g.call(this,a);this.y=this.x=0;this.scaleY=this.scaleX=1;this.height=this.width=this.rotation=0;this.color=new d.Color(1,1,1,1);this.offset=d.Utils.newFloatArray(8);this.vertices=d.Utils.newFloatArray(32);this.tempColor=new d.Color(1,1,1,1)}__extends(b,g);b.prototype.setRegion=function(a){var e=this.vertices;a.rotate?(e[b.U2]=a.u,e[b.V2]=a.v2,e[b.U3]=a.u,e[b.V3]=a.v,e[b.U4]=a.u2,e[b.V4]=a.v,e[b.U1]=a.u2,e[b.V1]=a.v2):(e[b.U1]=a.u,e[b.V1]=a.v2,e[b.U2]=a.u,
e[b.V2]=a.v,e[b.U3]=a.u2,e[b.V3]=a.v,e[b.U4]=a.u2,e[b.V4]=a.v2);this.region=a};b.prototype.updateOffset=function(){var a=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,c=-this.width/2*this.scaleX+this.region.offsetX*a,f=-this.height/2*this.scaleY+this.region.offsetY*e,d=c+this.region.width*a,a=f+this.region.height*e,e=this.rotation*Math.PI/180,g=Math.cos(e),h=Math.sin(e),e=c*g+this.x,c=c*h,y=f*g+this.y,f=f*h,m=d*g+this.x,d=d*h,g=a*g+this.y,a=
a*h,h=this.offset;h[b.OX1]=e-f;h[b.OY1]=y+c;h[b.OX2]=e-a;h[b.OY2]=g+c;h[b.OX3]=m-a;h[b.OY3]=g+d;h[b.OX4]=m-f;h[b.OY4]=y+d};b.prototype.updateWorldVertices=function(a,e){var c=a.bone.skeleton.color,f=a.color,d=this.color,g=c.a*f.a*d.a,h=e?g:1,y=this.tempColor;y.set(c.r*f.r*d.r*h,c.g*f.g*d.g*h,c.b*f.b*d.b*h,g);var c=this.vertices,f=this.offset,m=a.bone,d=m.worldX,g=m.worldY,h=m.a,q=m.b,p=m.c,m=m.d,r,n;r=f[b.OX1];n=f[b.OY1];c[b.X1]=r*h+n*q+d;c[b.Y1]=r*p+n*m+g;c[b.C1R]=y.r;c[b.C1G]=y.g;c[b.C1B]=y.b;c[b.C1A]=
y.a;r=f[b.OX2];n=f[b.OY2];c[b.X2]=r*h+n*q+d;c[b.Y2]=r*p+n*m+g;c[b.C2R]=y.r;c[b.C2G]=y.g;c[b.C2B]=y.b;c[b.C2A]=y.a;r=f[b.OX3];n=f[b.OY3];c[b.X3]=r*h+n*q+d;c[b.Y3]=r*p+n*m+g;c[b.C3R]=y.r;c[b.C3G]=y.g;c[b.C3B]=y.b;c[b.C3A]=y.a;r=f[b.OX4];n=f[b.OY4];c[b.X4]=r*h+n*q+d;c[b.Y4]=r*p+n*m+g;c[b.C4R]=y.r;c[b.C4G]=y.g;c[b.C4B]=y.b;c[b.C4A]=y.a;return c};b.OX1=0;b.OY1=1;b.OX2=2;b.OY2=3;b.OX3=4;b.OY3=5;b.OX4=6;b.OY4=7;b.X1=0;b.Y1=1;b.C1R=2;b.C1G=3;b.C1B=4;b.C1A=5;b.U1=6;b.V1=7;b.X2=8;b.Y2=9;b.C2R=10;b.C2G=11;b.C2B=
12;b.C2A=13;b.U2=14;b.V2=15;b.X3=16;b.Y3=17;b.C3R=18;b.C3G=19;b.C3B=20;b.C3A=21;b.U3=22;b.V3=23;b.X4=24;b.Y4=25;b.C4R=26;b.C4G=27;b.C4B=28;b.C4A=29;b.U4=30;b.V4=31;return b}(d.Attachment);d.RegionAttachment=n})(spine||(spine={}));(function(d){d=d.BlendMode||(d.BlendMode={});d[d.Normal=0]="Normal";d[d.Additive=1]="Additive";d[d.Multiply=2]="Multiply";d[d.Screen=3]="Screen"})(spine||(spine={}));
(function(d){var n=function(){function g(b,a,e){this.children=[];this.ashearY=this.ashearX=this.ascaleY=this.ascaleX=this.arotation=this.ay=this.ax=this.shearY=this.shearX=this.scaleY=this.scaleX=this.rotation=this.y=this.x=0;this.appliedValid=!1;this.worldY=this.d=this.c=this.worldX=this.b=this.a=0;this.sorted=!1;if(null==b)throw Error("data cannot be null.");if(null==a)throw Error("skeleton cannot be null.");this.data=b;this.skeleton=a;this.parent=e;this.setToSetupPose()}g.prototype.update=function(){this.updateWorldTransformWith(this.x,
this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)};g.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)};g.prototype.updateWorldTransformWith=function(b,a,e,c,f,k,g){this.ax=b;this.ay=a;this.arotation=e;this.ascaleX=c;this.ascaleY=f;this.ashearX=k;this.ashearY=g;this.appliedValid=!0;var h=this.parent;if(null==h){g=e+90+g;var h=d.MathUtils.cosDeg(e+k)*c,l=d.MathUtils.cosDeg(g)*f;c*=
d.MathUtils.sinDeg(e+k);f*=d.MathUtils.sinDeg(g);var m=this.skeleton;m.flipX&&(b=-b,h=-h,l=-l);m.flipY&&(a=-a,c=-c,f=-f);this.a=h;this.b=l;this.c=c;this.d=f;this.worldX=b+m.x;this.worldY=a+m.y}else{var m=h.a,q=h.b,p=h.c,r=h.d;this.worldX=m*b+q*a+h.worldX;this.worldY=p*b+r*a+h.worldY;switch(this.data.transformMode){case d.TransformMode.Normal:g=e+90+g;h=d.MathUtils.cosDeg(e+k)*c;l=d.MathUtils.cosDeg(g)*f;c*=d.MathUtils.sinDeg(e+k);f*=d.MathUtils.sinDeg(g);this.a=m*h+q*c;this.b=m*l+q*f;this.c=p*h+r*
c;this.d=p*l+r*f;return;case d.TransformMode.OnlyTranslation:g=e+90+g;this.a=d.MathUtils.cosDeg(e+k)*c;this.b=d.MathUtils.cosDeg(g)*f;this.c=d.MathUtils.sinDeg(e+k)*c;this.d=d.MathUtils.sinDeg(g)*f;break;case d.TransformMode.NoRotationOrReflection:h=m*m+p*p;1E-4<h?(h=Math.abs(m*r-q*p)/h,q=p*h,r=m*h,h=Math.atan2(p,m)*d.MathUtils.radDeg):(p=m=0,h=90-Math.atan2(r,q)*d.MathUtils.radDeg);k=e+k-h;g=e+g-h+90;h=d.MathUtils.cosDeg(k)*c;l=d.MathUtils.cosDeg(g)*f;c*=d.MathUtils.sinDeg(k);f*=d.MathUtils.sinDeg(g);
this.a=m*h-q*c;this.b=m*l-q*f;this.c=p*h+r*c;this.d=p*l+r*f;break;case d.TransformMode.NoScale:case d.TransformMode.NoScaleOrReflection:h=d.MathUtils.cosDeg(e);l=d.MathUtils.sinDeg(e);e=m*h+q*l;b=p*h+r*l;h=Math.sqrt(e*e+b*b);1E-5<h&&(h=1/h);e*=h;b*=h;h=Math.sqrt(e*e+b*b);l=Math.PI/2+Math.atan2(b,e);a=Math.cos(l)*h;var n=Math.sin(l)*h,h=d.MathUtils.cosDeg(k)*c,l=d.MathUtils.cosDeg(90+g)*f;c*=d.MathUtils.sinDeg(k);f*=d.MathUtils.sinDeg(90+g);this.a=e*h+a*c;this.b=e*l+a*f;this.c=b*h+n*c;this.d=b*l+n*
f;if(this.data.transformMode!=d.TransformMode.NoScaleOrReflection?0>m*r-q*p:this.skeleton.flipX!=this.skeleton.flipY)this.b=-this.b,this.d=-this.d;return}this.skeleton.flipX&&(this.a=-this.a,this.b=-this.b);this.skeleton.flipY&&(this.c=-this.c,this.d=-this.d)}};g.prototype.setToSetupPose=function(){var b=this.data;this.x=b.x;this.y=b.y;this.rotation=b.rotation;this.scaleX=b.scaleX;this.scaleY=b.scaleY;this.shearX=b.shearX;this.shearY=b.shearY};g.prototype.getWorldRotationX=function(){return Math.atan2(this.c,
this.a)*d.MathUtils.radDeg};g.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*d.MathUtils.radDeg};g.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)};g.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)};g.prototype.worldToLocalRotationX=function(){var b=this.parent;if(null==b)return this.arotation;var a=this.a,e=this.c;return Math.atan2(b.a*e-b.c*a,b.d*a-b.b*e)*d.MathUtils.radDeg};g.prototype.worldToLocalRotationY=
function(){var b=this.parent;if(null==b)return this.arotation;var a=this.b,e=this.d;return Math.atan2(b.a*e-b.c*a,b.d*a-b.b*e)*d.MathUtils.radDeg};g.prototype.rotateWorld=function(b){var a=this.a,e=this.b,c=this.c,f=this.d,k=d.MathUtils.cosDeg(b);b=d.MathUtils.sinDeg(b);this.a=k*a-b*c;this.b=k*e-b*f;this.c=b*a+k*c;this.d=b*e+k*f;this.appliedValid=!1};g.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var b=this.parent;if(null==b)this.ax=this.worldX,this.ay=this.worldY,this.arotation=
Math.atan2(this.c,this.a)*d.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*d.MathUtils.radDeg;else{var a=b.a,e=b.b,c=b.c,f=b.d,k=1/(a*f-e*c),g=this.worldX-b.worldX,b=this.worldY-b.worldY;this.ax=g*f*k-b*e*k;this.ay=b*a*k-g*c*k;f*=k;a*=k;e*=k;k*=c;c=f*this.a-e*this.c;e=f*this.b-e*this.d;f=a*this.c-k*this.a;k=a*this.d-k*this.b;this.ashearX=
0;this.ascaleX=Math.sqrt(c*c+f*f);1E-4<this.ascaleX?(a=c*k-e*f,this.ascaleY=a/this.ascaleX,this.ashearY=Math.atan2(c*e+f*k,a)*d.MathUtils.radDeg,this.arotation=Math.atan2(f,c)*d.MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(e*e+k*k),this.ashearY=0,this.arotation=90-Math.atan2(k,e)*d.MathUtils.radDeg)}};g.prototype.worldToLocal=function(b){var a=this.a,e=this.b,c=this.c,f=this.d,d=1/(a*f-e*c),g=b.x-this.worldX,h=b.y-this.worldY;b.x=g*f*d-h*e*d;b.y=h*a*d-g*c*d;return b};g.prototype.localToWorld=
function(b){var a=b.x,e=b.y;b.x=a*this.a+e*this.b+this.worldX;b.y=a*this.c+e*this.d+this.worldY;return b};return g}();d.Bone=n})(spine||(spine={}));
(function(d){var n=function(){return function(b,a,e){this.rotation=this.y=this.x=0;this.scaleY=this.scaleX=1;this.shearY=this.shearX=0;this.transformMode=g.Normal;if(0>b)throw Error("index must be >= 0.");if(null==a)throw Error("name cannot be null.");this.index=b;this.name=a;this.parent=e}}();d.BoneData=n;(function(b){b[b.Normal=0]="Normal";b[b.OnlyTranslation=1]="OnlyTranslation";b[b.NoRotationOrReflection=2]="NoRotationOrReflection";b[b.NoScale=3]="NoScale";b[b.NoScaleOrReflection=4]="NoScaleOrReflection"})(d.TransformMode||
(d.TransformMode={}));var g=d.TransformMode})(spine||(spine={}));(function(d){var n=function(){return function(d,b){if(null==b)throw Error("data cannot be null.");this.time=d;this.data=b}}();d.Event=n})(spine||(spine={}));(function(d){var n=function(){return function(d){this.name=d}}();d.EventData=n})(spine||(spine={}));
(function(d){var n=function(){function g(b,a){this.mix=1;this.bendDirection=0;if(null==b)throw Error("data cannot be null.");if(null==a)throw Error("skeleton cannot be null.");this.data=b;this.mix=b.mix;this.bendDirection=b.bendDirection;this.bones=[];for(var e=0;e<b.bones.length;e++)this.bones.push(a.findBone(b.bones[e].name));this.target=a.findBone(b.target.name)}g.prototype.getOrder=function(){return this.data.order};g.prototype.apply=function(){this.update()};g.prototype.update=function(){var b=
this.target,a=this.bones;switch(a.length){case 1:this.apply1(a[0],b.worldX,b.worldY,this.mix);break;case 2:this.apply2(a[0],a[1],b.worldX,b.worldY,this.bendDirection,this.mix)}};g.prototype.apply1=function(b,a,e,c){b.appliedValid||b.updateAppliedTransform();var f=b.parent,g=1/(f.a*f.d-f.b*f.c);a-=f.worldX;e-=f.worldY;f=Math.atan2((e*f.a-a*f.c)*g-b.ay,(a*f.d-e*f.b)*g-b.ax)*d.MathUtils.radDeg-b.ashearX-b.arotation;0>b.ascaleX&&(f+=180);180<f?f-=360:-180>f&&(f+=360);b.updateWorldTransformWith(b.ax,b.ay,
b.arotation+f*c,b.ascaleX,b.ascaleY,b.ashearX,b.ashearY)};g.prototype.apply2=function(b,a,e,c,f,g){if(0==g)a.updateWorldTransform();else{b.appliedValid||b.updateAppliedTransform();a.appliedValid||a.updateAppliedTransform();var k=b.ax,h=b.ay,y=b.ascaleX,m=b.ascaleY,q=a.ascaleX,p,r,n;0>y?(y=-y,p=180,n=-1):(p=0,n=1);0>m&&(m=-m,n=-n);0>q?(q=-q,r=180):r=0;var t=a.ax,u,x,B,v=b.a,w=b.b,A=b.c,C=b.d,I=1E-4>=Math.abs(y-m);I?(u=a.ay,x=v*t+w*u+b.worldX,B=A*t+C*u+b.worldY):(u=0,x=v*t+b.worldX,B=A*t+b.worldY);
var F=b.parent,v=F.a,w=F.b,A=F.c,C=F.d,E=1/(v*C-w*A);e-=F.worldX;c-=F.worldY;var H=(e*C-c*w)*E-k,D=(c*v-e*A)*E-h;e=x-F.worldX;c=B-F.worldY;w=(e*C-c*w)*E-k;v=(c*v-e*A)*E-h;E=Math.sqrt(w*w+v*v);w=a.data.length*q;a:if(I)w*=y,v=(H*H+D*D-E*E-w*w)/(2*E*w),-1>v?v=-1:1<v&&(v=1),f*=Math.acos(v),v=E+w*v,w*=Math.sin(f),v=Math.atan2(D*v-H*w,H*v+D*w);else{v=y*w;w*=m;c=v*v;q=w*w;I=H*H+D*D;H=Math.atan2(D,H);A=q*E*E+c*I-c*q;e=-2*q*E;D=q-c;C=e*e-4*D*A;if(0<=C&&(C=Math.sqrt(C),0>e&&(C=-C),C=-(e+C)/2,e=C/D,C=A/C,C=
Math.abs(e)<Math.abs(C)?e:C,C*C<=I)){c=Math.sqrt(I-C*C)*f;v=H-Math.atan2(c,C);f=Math.atan2(c/m,(C-E)/y);break a}var y=0,A=Number.MAX_VALUE,G=F=B=m=x=D=0;e=E+v;C=e*e;C>B&&(m=0,B=C,F=e);e=E-v;C=e*e;C<A&&(y=d.MathUtils.PI,A=C,D=e);q=Math.acos(-v*E/(c-q));e=v*Math.cos(q)+E;c=w*Math.sin(q);C=e*e+c*c;C<A&&(y=q,A=C,D=e,x=c);C>B&&(m=q,B=C,F=e,G=c);I<=(A+B)/2?(v=H-Math.atan2(x*f,D),f*=y):(v=H-Math.atan2(G*f,F),f*=m)}w=Math.atan2(u,t)*n;E=b.arotation;v=(v-w)*d.MathUtils.radDeg+p-E;180<v?v-=360:-180>v&&(v+=
360);b.updateWorldTransformWith(k,h,E+v*g,b.ascaleX,b.ascaleY,0,0);E=a.arotation;f=((f+w)*d.MathUtils.radDeg-a.ashearX)*n+r-E;180<f?f-=360:-180>f&&(f+=360);a.updateWorldTransformWith(t,u,E+f*g,a.ascaleX,a.ascaleY,a.ashearX,a.ashearY)}};return g}();d.IkConstraint=n})(spine||(spine={}));(function(d){var n=function(){return function(d){this.order=0;this.bones=[];this.mix=this.bendDirection=1;this.name=d}}();d.IkConstraintData=n})(spine||(spine={}));
(function(d){var n=function(){function g(b,a){this.translateMix=this.rotateMix=this.spacing=this.position=0;this.spaces=[];this.positions=[];this.world=[];this.curves=[];this.lengths=[];this.segments=[];if(null==b)throw Error("data cannot be null.");if(null==a)throw Error("skeleton cannot be null.");this.data=b;this.bones=[];for(var e=0,c=b.bones.length;e<c;e++)this.bones.push(a.findBone(b.bones[e].name));this.target=a.findSlot(b.target.name);this.position=b.position;this.spacing=b.spacing;this.rotateMix=
b.rotateMix;this.translateMix=b.translateMix}g.prototype.apply=function(){this.update()};g.prototype.update=function(){var b=this.target.getAttachment();if(b instanceof d.PathAttachment){var a=this.rotateMix,e=this.translateMix,c=0<a;if(0<e||c){var f=this.data,g=f.spacingMode,l=g==d.SpacingMode.Length,h=f.rotateMode,y=h==d.RotateMode.Tangent,m=h==d.RotateMode.ChainScale,q=this.bones.length,p=y?q:q+1,r=this.bones,n=d.Utils.setArraySize(this.spaces,p),t=null,u=this.spacing;if(m||l){m&&(t=d.Utils.setArraySize(this.lengths,
q));for(var x=0,B=p-1;x<B;){var v=r[x],w=v.data.length,A=w*v.a,w=w*v.c,w=Math.sqrt(A*A+w*w);m&&(t[x]=w);n[++x]=l?Math.max(0,w+u):u}}else for(x=1;x<p;x++)n[x]=u;b=this.computeWorldPositions(b,p,y,f.positionMode==d.PositionMode.Percent,g==d.SpacingMode.Percent);g=b[0];l=b[1];f=f.offsetRotation;0==f?h=h==d.RotateMode.Chain:(h=!1,p=this.target.bone,f*=0<p.a*p.d-p.b*p.c?d.MathUtils.degRad:-d.MathUtils.degRad);x=0;for(p=3;x<q;x++,p+=3){v=r[x];v.worldX+=(g-v.worldX)*e;v.worldY+=(l-v.worldY)*e;A=b[p];w=b[p+
1];u=A-g;B=w-l;m&&(g=t[x],0!=g&&(g=(Math.sqrt(u*u+B*B)/g-1)*a+1,v.a*=g,v.c*=g));g=A;l=w;if(c){var A=v.a,w=v.b,C=v.c,I=v.d,F,E,H;F=y?b[p-1]:0==n[x+1]?b[p+2]:Math.atan2(B,u);F-=Math.atan2(C,A);if(h){E=Math.cos(F);H=Math.sin(F);var D=v.data.length,g=g+(D*(E*A-H*C)-u)*a,l=l+(D*(H*A+E*C)-B)*a}else F+=f;F>d.MathUtils.PI?F-=d.MathUtils.PI2:F<-d.MathUtils.PI&&(F+=d.MathUtils.PI2);F*=a;E=Math.cos(F);H=Math.sin(F);v.a=E*A-H*C;v.b=E*w-H*I;v.c=H*A+E*C;v.d=H*w+E*I}v.appliedValid=!1}}}};g.prototype.computeWorldPositions=
function(b,a,e,c,f){var k=this.target,l=this.position,h=this.spaces,y=d.Utils.setArraySize(this.positions,3*a+2),m,q=b.closed,p=b.worldVerticesLength,r=p/6,n=g.NONE;if(!b.constantSpeed){var t=b.lengths,r=r-(q?1:2),u=t[r];c&&(l*=u);if(f)for(var x=0;x<a;x++)h[x]*=u;m=d.Utils.setArraySize(this.world,8);for(f=c=x=0;x<a;x++,c+=3){var B=h[x],v=l+=B;if(q)v%=u,0>v&&(v+=u),f=0;else if(0>v){n!=g.BEFORE&&(n=g.BEFORE,b.computeWorldVerticesWith(k,2,4,m,0));this.addBeforePosition(v,m,0,y,c);continue}else if(v>
u){n!=g.AFTER&&(n=g.AFTER,b.computeWorldVerticesWith(k,p-6,4,m,0));this.addAfterPosition(v-u,m,0,y,c);continue}for(;;f++){var w=t[f];if(!(v>w)){if(0==f)v/=w;else var A=t[f-1],v=(v-A)/(w-A);break}}f!=n&&(n=f,q&&f==r?(b.computeWorldVerticesWith(k,p-4,4,m,0),b.computeWorldVerticesWith(k,0,4,m,4)):b.computeWorldVerticesWith(k,6*f+2,8,m,0));this.addCurvePosition(v,m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],y,c,e||0<x&&0==B)}return y}q?(p+=2,m=d.Utils.setArraySize(this.world,p),b.computeWorldVerticesWith(k,
2,p-4,m,0),b.computeWorldVerticesWith(k,0,2,m,p-4),m[p-2]=m[0],m[p-1]=m[1]):(r--,p-=4,m=d.Utils.setArraySize(this.world,p),b.computeWorldVerticesWith(k,2,p,m,0));b=d.Utils.setArraySize(this.curves,r);for(var k=0,t=m[0],u=m[1],C=w=0,I=0,F=0,E=0,H=0,D,G,K,J,M,x=0,B=2;x<r;x++,B+=6)w=m[B],C=m[B+1],I=m[B+2],F=m[B+3],E=m[B+4],H=m[B+5],D=.1875*(t-2*w+I),G=.1875*(u-2*C+F),A=.09375*(3*(w-I)-t+E),K=.09375*(3*(C-F)-u+H),J=2*D+A,M=2*G+K,D=.75*(w-t)+D+.16666667*A,G=.75*(C-u)+G+.16666667*K,k+=Math.sqrt(D*D+G*G),
D+=J,G+=M,J+=A,M+=K,k+=Math.sqrt(D*D+G*G),D+=J,G+=M,k+=Math.sqrt(D*D+G*G),D+=J+A,G+=M+K,k+=Math.sqrt(D*D+G*G),b[x]=k,t=E,u=H;c&&(l*=k);if(f)for(x=0;x<a;x++)h[x]*=k;var r=this.segments,N=0;for(K=f=c=x=0;x<a;x++,c+=3){B=h[x];v=l+=B;if(q)v%=k,0>v&&(v+=k),f=0;else if(0>v){this.addBeforePosition(v,m,0,y,c);continue}else if(v>k){this.addAfterPosition(v-k,m,p-4,y,c);continue}for(;;f++)if(J=b[f],!(v>J)){0==f?v/=J:(A=b[f-1],v=(v-A)/(J-A));break}if(f!=n){var n=f,L=6*f,t=m[L],u=m[L+1],w=m[L+2],C=m[L+3],I=m[L+
4],F=m[L+5],E=m[L+6],H=m[L+7];D=.03*(t-2*w+I);G=.03*(u-2*C+F);A=.006*(3*(w-I)-t+E);K=.006*(3*(C-F)-u+H);J=2*D+A;M=2*G+K;D=.3*(w-t)+D+.16666667*A;G=.3*(C-u)+G+.16666667*K;N=Math.sqrt(D*D+G*G);r[0]=N;for(L=1;8>L;L++)D+=J,G+=M,J+=A,M+=K,N+=Math.sqrt(D*D+G*G),r[L]=N;D+=J;G+=M;N+=Math.sqrt(D*D+G*G);r[8]=N;D+=J+A;G+=M+K;N+=Math.sqrt(D*D+G*G);r[9]=N;K=0}for(v*=N;;K++)if(J=r[K],!(v>J)){0==K?v/=J:(A=r[K-1],v=K+(v-A)/(J-A));break}this.addCurvePosition(.1*v,t,u,w,C,I,F,E,H,y,c,e||0<x&&0==B)}return y};g.prototype.addBeforePosition=
function(b,a,e,c,f){var d=a[e],g=a[e+1];a=Math.atan2(a[e+3]-g,a[e+2]-d);c[f]=d+b*Math.cos(a);c[f+1]=g+b*Math.sin(a);c[f+2]=a};g.prototype.addAfterPosition=function(b,a,e,c,f){var d=a[e+2],g=a[e+3];a=Math.atan2(g-a[e+1],d-a[e]);c[f]=d+b*Math.cos(a);c[f+1]=g+b*Math.sin(a);c[f+2]=a};g.prototype.addCurvePosition=function(b,a,e,c,f,d,g,h,n,m,q,p){if(0==b||isNaN(b))b=1E-4;var k=b*b,l=k*b,t=1-b,y=t*t,x=y*t,B=t*b,v=3*B,t=t*v;b*=v;h=a*x+c*t+d*b+h*l;n=e*x+f*t+g*b+n*l;m[q]=h;m[q+1]=n;p&&(m[q+2]=Math.atan2(n-
(e*y+f*B*2+g*k),h-(a*y+c*B*2+d*k)))};g.prototype.getOrder=function(){return this.data.order};g.NONE=-1;g.BEFORE=-2;g.AFTER=-3;return g}();d.PathConstraint=n})(spine||(spine={}));
(function(d){var n=function(){return function(d){this.order=0;this.bones=[];this.name=d}}();d.PathConstraintData=n;(function(d){d[d.Fixed=0]="Fixed";d[d.Percent=1]="Percent"})(d.PositionMode||(d.PositionMode={}));(function(d){d[d.Length=0]="Length";d[d.Fixed=1]="Fixed";d[d.Percent=2]="Percent"})(d.SpacingMode||(d.SpacingMode={}));(function(d){d[d.Tangent=0]="Tangent";d[d.Chain=1]="Chain";d[d.ChainScale=2]="ChainScale"})(d.RotateMode||(d.RotateMode={}))})(spine||(spine={}));
(function(d){var n=function(){function b(a){this.toLoad=[];this.assets={};this.clientId=a}b.prototype.loaded=function(){var a=0,b;for(b in this.assets)a++;return a};return b}(),g=function(){function b(a){void 0===a&&(a="");this.clientAssets={};this.queuedAssets={};this.rawAssets={};this.errors={};this.pathPrefix=a}b.prototype.queueAsset=function(a,b,c){var e=this.clientAssets[a];if(null===e||void 0===e)e=new n(a),this.clientAssets[a]=e;null!==b&&(e.textureLoader=b);e.toLoad.push(c);if(this.queuedAssets[c]===
c)return!1;this.queuedAssets[c]=c;return!0};b.prototype.loadText=function(a,b){var c=this;b=this.pathPrefix+b;if(this.queueAsset(a,null,b)){var e=new XMLHttpRequest;e.onreadystatechange=function(){e.readyState==XMLHttpRequest.DONE&&(200<=e.status&&300>e.status?c.rawAssets[b]=e.responseText:c.errors[b]="Couldn't load text "+b+": status "+e.status+", "+e.responseText)};e.open("GET",b,!0);e.send()}};b.prototype.loadJson=function(a,b){var c=this;b=this.pathPrefix+b;if(this.queueAsset(a,null,b)){var e=
new XMLHttpRequest;e.onreadystatechange=function(){e.readyState==XMLHttpRequest.DONE&&(200<=e.status&&300>e.status?c.rawAssets[b]=JSON.parse(e.responseText):c.errors[b]="Couldn't load text "+b+": status "+e.status+", "+e.responseText)};e.open("GET",b,!0);e.send()}};b.prototype.loadTexture=function(a,b,c){var e=this;c=this.pathPrefix+c;if(this.queueAsset(a,b,c)){var d=new Image;d.src=c;d.crossOrigin="anonymous";d.onload=function(a){e.rawAssets[c]=d};d.onerror=function(a){e.errors[c]="Couldn't load image "+
c}}};b.prototype.get=function(a,b){b=this.pathPrefix+b;var c=this.clientAssets[a];return null===c||void 0===c?!0:c.assets[b]};b.prototype.updateClientAssets=function(a){for(var b=0;b<a.toLoad.length;b++){var c=a.toLoad[b],f=a.assets[c];if(null===f||void 0===f)f=this.rawAssets[c],null!==f&&void 0!==f&&(a.assets[c]=f instanceof HTMLImageElement?a.textureLoader(f):f)}};b.prototype.isLoadingComplete=function(a){a=this.clientAssets[a];if(null===a||void 0===a)return!0;this.updateClientAssets(a);return a.toLoad.length==
a.loaded()};b.prototype.dispose=function(){};b.prototype.hasErrors=function(){return 0<Object.keys(this.errors).length};b.prototype.getErrors=function(){return this.errors};return b}();d.SharedAssetManager=g})(spine||(spine={}));
(function(d){var n=function(){function g(b){this._updateCache=[];this.updateCacheReset=[];this.time=0;this.flipY=this.flipX=!1;this.y=this.x=0;if(null==b)throw Error("data cannot be null.");this.data=b;this.bones=[];for(var a=0;a<b.bones.length;a++){var e=b.bones[a];if(null==e.parent)e=new d.Bone(e,this,null);else{var c=this.bones[e.parent.index],e=new d.Bone(e,this,c);c.children.push(e)}this.bones.push(e)}this.slots=[];this.drawOrder=[];for(a=0;a<b.slots.length;a++)c=b.slots[a],e=this.bones[c.boneData.index],
e=new d.Slot(c,e),this.slots.push(e),this.drawOrder.push(e);this.ikConstraints=[];for(a=0;a<b.ikConstraints.length;a++)this.ikConstraints.push(new d.IkConstraint(b.ikConstraints[a],this));this.transformConstraints=[];for(a=0;a<b.transformConstraints.length;a++)this.transformConstraints.push(new d.TransformConstraint(b.transformConstraints[a],this));this.pathConstraints=[];for(a=0;a<b.pathConstraints.length;a++)this.pathConstraints.push(new d.PathConstraint(b.pathConstraints[a],this));this.color=new d.Color(1,
1,1,1);this.updateCache()}g.prototype.updateCache=function(){this._updateCache.length=0;this.updateCacheReset.length=0;for(var b=this.bones,a=0,e=b.length;a<e;a++)b[a].sorted=!1;var e=this.ikConstraints,c=this.transformConstraints,f=this.pathConstraints,d=e.length,g=c.length,h=f.length,n=d+g+h,a=0;a:for(;a<n;a++){for(var m=0;m<d;m++){var q=e[m];if(q.data.order==a){this.sortIkConstraint(q);continue a}}for(m=0;m<g;m++)if(q=c[m],q.data.order==a){this.sortTransformConstraint(q);continue a}for(m=0;m<h;m++)if(q=
f[m],q.data.order==a){this.sortPathConstraint(q);continue a}}a=0;for(e=b.length;a<e;a++)this.sortBone(b[a])};g.prototype.sortIkConstraint=function(b){this.sortBone(b.target);var a=b.bones,e=a[0];this.sortBone(e);if(1<a.length){var c=a[a.length-1];-1<this._updateCache.indexOf(c)||this.updateCacheReset.push(c)}this._updateCache.push(b);this.sortReset(e.children);a[a.length-1].sorted=!0};g.prototype.sortPathConstraint=function(b){var a=b.target,e=a.data.index,c=a.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,
e,c);null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,e,c);for(var f=0,g=this.data.skins.length;f<g;f++)this.sortPathConstraintAttachment(this.data.skins[f],e,c);f=a.getAttachment();f instanceof d.PathAttachment&&this.sortPathConstraintAttachmentWith(f,c);c=b.bones;a=c.length;for(f=0;f<a;f++)this.sortBone(c[f]);this._updateCache.push(b);for(f=0;f<a;f++)this.sortReset(c[f].children);for(f=0;f<a;f++)c[f].sorted=!0};g.prototype.sortTransformConstraint=
function(b){this.sortBone(b.target);for(var a=b.bones,e=a.length,c=0;c<e;c++)this.sortBone(a[c]);this._updateCache.push(b);for(c=0;c<e;c++)this.sortReset(a[c].children);for(c=0;c<e;c++)a[c].sorted=!0};g.prototype.sortPathConstraintAttachment=function(b,a,e){if(b=b.attachments[a])for(var c in b)this.sortPathConstraintAttachmentWith(b[c],e)};g.prototype.sortPathConstraintAttachmentWith=function(b,a){if(b instanceof d.PathAttachment){var e=b.bones;if(null==e)this.sortBone(a);else for(var c=this.bones,
f=0;f<e.length;)for(var g=e[f++],g=f+g;f<g;f++)this.sortBone(c[e[f]])}};g.prototype.sortBone=function(b){if(!b.sorted){var a=b.parent;null!=a&&this.sortBone(a);b.sorted=!0;this._updateCache.push(b)}};g.prototype.sortReset=function(b){for(var a=0,e=b.length;a<e;a++){var c=b[a];c.sorted&&this.sortReset(c.children);c.sorted=!1}};g.prototype.updateWorldTransform=function(){for(var b=this.updateCacheReset,a=0,e=b.length;a<e;a++){var c=b[a];c.ax=c.x;c.ay=c.y;c.arotation=c.rotation;c.ascaleX=c.scaleX;c.ascaleY=
c.scaleY;c.ashearX=c.shearX;c.ashearY=c.shearY;c.appliedValid=!0}b=this._updateCache;a=0;for(e=b.length;a<e;a++)b[a].update()};g.prototype.setToSetupPose=function(){this.setBonesToSetupPose();this.setSlotsToSetupPose()};g.prototype.setBonesToSetupPose=function(){for(var b=this.bones,a=0,e=b.length;a<e;a++)b[a].setToSetupPose();for(var c=this.ikConstraints,a=0,e=c.length;a<e;a++)b=c[a],b.bendDirection=b.data.bendDirection,b.mix=b.data.mix;for(var f=this.transformConstraints,a=0,e=f.length;a<e;a++)b=
f[a],c=b.data,b.rotateMix=c.rotateMix,b.translateMix=c.translateMix,b.scaleMix=c.scaleMix,b.shearMix=c.shearMix;f=this.pathConstraints;a=0;for(e=f.length;a<e;a++)b=f[a],c=b.data,b.position=c.position,b.spacing=c.spacing,b.rotateMix=c.rotateMix,b.translateMix=c.translateMix};g.prototype.setSlotsToSetupPose=function(){var b=this.slots;d.Utils.arrayCopy(b,0,this.drawOrder,0,b.length);for(var a=0,e=b.length;a<e;a++)b[a].setToSetupPose()};g.prototype.getRootBone=function(){return 0==this.bones.length?
null:this.bones[0]};g.prototype.findBone=function(b){if(null==b)throw Error("boneName cannot be null.");for(var a=this.bones,e=0,c=a.length;e<c;e++){var f=a[e];if(f.data.name==b)return f}return null};g.prototype.findBoneIndex=function(b){if(null==b)throw Error("boneName cannot be null.");for(var a=this.bones,e=0,c=a.length;e<c;e++)if(a[e].data.name==b)return e;return-1};g.prototype.findSlot=function(b){if(null==b)throw Error("slotName cannot be null.");for(var a=this.slots,e=0,c=a.length;e<c;e++){var f=
a[e];if(f.data.name==b)return f}return null};g.prototype.findSlotIndex=function(b){if(null==b)throw Error("slotName cannot be null.");for(var a=this.slots,e=0,c=a.length;e<c;e++)if(a[e].data.name==b)return e;return-1};g.prototype.setSkinByName=function(b){var a=this.data.findSkin(b);if(null==a)throw Error("Skin not found: "+b);this.setSkin(a)};g.prototype.setSkin=function(b){if(null!=b)if(null!=this.skin)b.attachAll(this,this.skin);else for(var a=this.slots,e=0,c=a.length;e<c;e++){var f=a[e],d=f.data.attachmentName;
null!=d&&(d=b.getAttachment(e,d),null!=d&&f.setAttachment(d))}this.skin=b};g.prototype.getAttachmentByName=function(b,a){return this.getAttachment(this.data.findSlotIndex(b),a)};g.prototype.getAttachment=function(b,a){if(null==a)throw Error("attachmentName cannot be null.");if(null!=this.skin){var e=this.skin.getAttachment(b,a);if(null!=e)return e}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(b,a):null};g.prototype.setAttachment=function(b,a){if(null==b)throw Error("slotName cannot be null.");
for(var e=this.slots,c=0,f=e.length;c<f;c++){var d=e[c];if(d.data.name==b){e=null;if(null!=a&&(e=this.getAttachment(c,a),null==e))throw Error("Attachment not found: "+a+", for slot: "+b);d.setAttachment(e);return}}throw Error("Slot not found: "+b);};g.prototype.findIkConstraint=function(b){if(null==b)throw Error("constraintName cannot be null.");for(var a=this.ikConstraints,e=0,c=a.length;e<c;e++){var f=a[e];if(f.data.name==b)return f}return null};g.prototype.findTransformConstraint=function(b){if(null==
b)throw Error("constraintName cannot be null.");for(var a=this.transformConstraints,e=0,c=a.length;e<c;e++){var f=a[e];if(f.data.name==b)return f}return null};g.prototype.findPathConstraint=function(b){if(null==b)throw Error("constraintName cannot be null.");for(var a=this.pathConstraints,e=0,c=a.length;e<c;e++){var f=a[e];if(f.data.name==b)return f}return null};g.prototype.getBounds=function(b,a){if(null==b)throw Error("offset cannot be null.");if(null==a)throw Error("size cannot be null.");for(var e=
this.drawOrder,c=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY,h=0,n=e.length;h<n;h++){var m=e[h],q=null,p=m.getAttachment();p instanceof d.RegionAttachment?q=p.updateWorldVertices(m,!1):p instanceof d.MeshAttachment&&(q=p.updateWorldVertices(m,!0));if(null!=q)for(m=0,p=q.length;m<p;m+=8)var r=q[m],z=q[m+1],c=Math.min(c,r),f=Math.min(f,z),g=Math.max(g,r),l=Math.max(l,z)}b.set(c,f);a.set(g-c,l-f)};g.prototype.update=function(b){this.time+=
b};return g}();d.Skeleton=n})(spine||(spine={}));
(function(d){var n=function(){function g(){this.maxY=this.maxX=this.minY=this.minX=0;this.boundingBoxes=[];this.polygons=[];this.polygonPool=new d.Pool(function(){return d.Utils.newFloatArray(16)})}g.prototype.update=function(b,a){if(null==b)throw Error("skeleton cannot be null.");var e=this.boundingBoxes,c=this.polygons,f=this.polygonPool,g=b.slots,l=g.length;e.length=0;f.freeAll(c);for(var h=c.length=0;h<l;h++){var n=g[h],m=n.getAttachment();if(m instanceof d.BoundingBoxAttachment){e.push(m);var q=
f.obtain();q.length!=m.worldVerticesLength&&(q=d.Utils.newFloatArray(m.worldVerticesLength));c.push(q);m.computeWorldVertices(n,q)}}a?this.aabbCompute():(this.minY=this.minX=Number.POSITIVE_INFINITY,this.maxY=this.maxX=Number.NEGATIVE_INFINITY)};g.prototype.aabbCompute=function(){for(var b=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,f=this.polygons,d=0,g=f.length;d<g;d++)for(var h=f[d],n=h,m=0,h=h.length;m<h;m+=2)var q=n[m],p=n[m+1],b=
Math.min(b,q),a=Math.min(a,p),e=Math.max(e,q),c=Math.max(c,p);this.minX=b;this.minY=a;this.maxX=e;this.maxY=c};g.prototype.aabbContainsPoint=function(b,a){return b>=this.minX&&b<=this.maxX&&a>=this.minY&&a<=this.maxY};g.prototype.aabbIntersectsSegment=function(b,a,e,c){var f=this.minX,d=this.minY,g=this.maxX,h=this.maxY;if(b<=f&&e<=f||a<=d&&c<=d||b>=g&&e>=g||a>=h&&c>=h)return!1;e=(c-a)/(e-b);c=e*(f-b)+a;if(c>d&&c<h)return!0;c=e*(g-b)+a;if(c>d&&c<h)return!0;d=(d-a)/e+b;if(d>f&&d<g)return!0;d=(h-a)/
e+b;return d>f&&d<g?!0:!1};g.prototype.aabbIntersectsSkeleton=function(b){return this.minX<b.maxX&&this.maxX>b.minX&&this.minY<b.maxY&&this.maxY>b.minY};g.prototype.containsPoint=function(b,a){for(var e=this.polygons,c=0,f=e.length;c<f;c++)if(this.containsPointPolygon(e[c],b,a))return this.boundingBoxes[c];return null};g.prototype.containsPointPolygon=function(b,a,e){for(var c=b.length,f=c-2,d=!1,g=0;g<c;g+=2){var h=b[g+1],n=b[f+1];if(h<e&&n>=e||n<e&&h>=e){var m=b[g];m+(e-h)/(n-h)*(b[f]-m)<a&&(d=
!d)}f=g}return d};g.prototype.intersectsSegment=function(b,a,e,c){for(var f=this.polygons,d=0,g=f.length;d<g;d++)if(this.intersectsSegmentPolygon(f[d],b,a,e,c))return this.boundingBoxes[d];return null};g.prototype.intersectsSegmentPolygon=function(b,a,e,c,f){for(var d=b.length,g=a-c,h=e-f,n=a*f-e*c,m=b[d-2],q=b[d-1],p=0;p<d;p+=2){var r=b[p],z=b[p+1],t=m*z-q*r,u=m-r,x=q-z,B=g*x-h*u,u=(n*u-g*t)/B;if((u>=m&&u<=r||u>=r&&u<=m)&&(u>=a&&u<=c||u>=c&&u<=a)&&(m=(n*x-h*t)/B,(m>=q&&m<=z||m>=z&&m<=q)&&(m>=e&&
m<=f||m>=f&&m<=e)))return!0;m=r;q=z}return!1};g.prototype.getPolygon=function(b){if(null==b)throw Error("boundingBox cannot be null.");b=this.boundingBoxes.indexOf(b);return-1==b?null:this.polygons[b]};g.prototype.getWidth=function(){return this.maxX-this.minX};g.prototype.getHeight=function(){return this.maxY-this.minY};return g}();d.SkeletonBounds=n})(spine||(spine={}));
(function(d){var n=function(){function d(){this.bones=[];this.slots=[];this.skins=[];this.events=[];this.animations=[];this.ikConstraints=[];this.transformConstraints=[];this.pathConstraints=[];this.fps=0}d.prototype.findBone=function(b){if(null==b)throw Error("boneName cannot be null.");for(var a=this.bones,e=0,c=a.length;e<c;e++){var f=a[e];if(f.name==b)return f}return null};d.prototype.findBoneIndex=function(b){if(null==b)throw Error("boneName cannot be null.");for(var a=this.bones,e=0,c=a.length;e<
c;e++)if(a[e].name==b)return e;return-1};d.prototype.findSlot=function(b){if(null==b)throw Error("slotName cannot be null.");for(var a=this.slots,e=0,c=a.length;e<c;e++){var f=a[e];if(f.name==b)return f}return null};d.prototype.findSlotIndex=function(b){if(null==b)throw Error("slotName cannot be null.");for(var a=this.slots,e=0,c=a.length;e<c;e++)if(a[e].name==b)return e;return-1};d.prototype.findSkin=function(b){if(null==b)throw Error("skinName cannot be null.");for(var a=this.skins,e=0,c=a.length;e<
c;e++){var f=a[e];if(f.name==b)return f}return null};d.prototype.findEvent=function(b){if(null==b)throw Error("eventDataName cannot be null.");for(var a=this.events,e=0,c=a.length;e<c;e++){var f=a[e];if(f.name==b)return f}return null};d.prototype.findAnimation=function(b){if(null==b)throw Error("animationName cannot be null.");for(var a=this.animations,e=0,c=a.length;e<c;e++){var f=a[e];if(f.name==b)return f}return null};d.prototype.findIkConstraint=function(b){if(null==b)throw Error("constraintName cannot be null.");
for(var a=this.ikConstraints,e=0,c=a.length;e<c;e++){var f=a[e];if(f.name==b)return f}return null};d.prototype.findTransformConstraint=function(b){if(null==b)throw Error("constraintName cannot be null.");for(var a=this.transformConstraints,e=0,c=a.length;e<c;e++){var f=a[e];if(f.name==b)return f}return null};d.prototype.findPathConstraint=function(b){if(null==b)throw Error("constraintName cannot be null.");for(var a=this.pathConstraints,e=0,c=a.length;e<c;e++){var f=a[e];if(f.name==b)return f}return null};
d.prototype.findPathConstraintIndex=function(b){if(null==b)throw Error("pathConstraintName cannot be null.");for(var a=this.pathConstraints,e=0,c=a.length;e<c;e++)if(a[e].name==b)return e;return-1};return d}();d.SkeletonData=n})(spine||(spine={}));
(function(d){var n=function(){function b(a){this.scale=1;this.linkedMeshes=[];this.attachmentLoader=a}b.prototype.readSkeletonData=function(a){var e=this.scale,c=new d.SkeletonData;a="string"===typeof a?JSON.parse(a):a;var f=a.skeleton;null!=f&&(c.hash=f.hash,c.version=f.spine,c.width=f.width,c.height=f.height,c.fps=f.fps,c.imagesPath=f.images);if(a.bones)for(f=0;f<a.bones.length;f++){var g=a.bones[f],l=null,h=this.getValue(g,"parent",null);if(null!=h&&(l=c.findBone(h),null==l))throw Error("Parent bone not found: "+
h);l=new d.BoneData(c.bones.length,g.name,l);l.length=this.getValue(g,"length",0)*e;l.x=this.getValue(g,"x",0)*e;l.y=this.getValue(g,"y",0)*e;l.rotation=this.getValue(g,"rotation",0);l.scaleX=this.getValue(g,"scaleX",1);l.scaleY=this.getValue(g,"scaleY",1);l.shearX=this.getValue(g,"shearX",0);l.shearY=this.getValue(g,"shearY",0);l.transformMode=b.transformModeFromString(this.getValue(g,"transform","normal"));c.bones.push(l)}if(a.slots)for(f=0;f<a.slots.length;f++){var g=a.slots[f],n=g.name,h=g.bone,
l=c.findBone(h);if(null==l)throw Error("Slot bone not found: "+h);l=new d.SlotData(c.slots.length,n,l);h=this.getValue(g,"color",null);null!=h&&l.color.setFromString(h);l.attachmentName=this.getValue(g,"attachment",null);l.blendMode=b.blendModeFromString(this.getValue(g,"blend","normal"));c.slots.push(l)}if(a.ik)for(f=0;f<a.ik.length;f++){g=a.ik[f];l=new d.IkConstraintData(g.name);l.order=this.getValue(g,"order",0);for(var m=0;m<g.bones.length;m++){var h=g.bones[m],q=c.findBone(h);if(null==q)throw Error("IK bone not found: "+
h);l.bones.push(q)}h=g.target;l.target=c.findBone(h);if(null==l.target)throw Error("IK target bone not found: "+h);l.bendDirection=this.getValue(g,"bendPositive",!0)?1:-1;l.mix=this.getValue(g,"mix",1);c.ikConstraints.push(l)}if(a.transform)for(f=0;f<a.transform.length;f++){g=a.transform[f];l=new d.TransformConstraintData(g.name);l.order=this.getValue(g,"order",0);for(m=0;m<g.bones.length;m++){h=g.bones[m];q=c.findBone(h);if(null==q)throw Error("Transform constraint bone not found: "+h);l.bones.push(q)}h=
g.target;l.target=c.findBone(h);if(null==l.target)throw Error("Transform constraint target bone not found: "+h);l.offsetRotation=this.getValue(g,"rotation",0);l.offsetX=this.getValue(g,"x",0)*e;l.offsetY=this.getValue(g,"y",0)*e;l.offsetScaleX=this.getValue(g,"scaleX",0);l.offsetScaleY=this.getValue(g,"scaleY",0);l.offsetShearY=this.getValue(g,"shearY",0);l.rotateMix=this.getValue(g,"rotateMix",1);l.translateMix=this.getValue(g,"translateMix",1);l.scaleMix=this.getValue(g,"scaleMix",1);l.shearMix=
this.getValue(g,"shearMix",1);c.transformConstraints.push(l)}if(a.path)for(f=0;f<a.path.length;f++){g=a.path[f];l=new d.PathConstraintData(g.name);l.order=this.getValue(g,"order",0);for(m=0;m<g.bones.length;m++){h=g.bones[m];q=c.findBone(h);if(null==q)throw Error("Transform constraint bone not found: "+h);l.bones.push(q)}h=g.target;l.target=c.findSlot(h);if(null==l.target)throw Error("Path target slot not found: "+h);l.positionMode=b.positionModeFromString(this.getValue(g,"positionMode","percent"));
l.spacingMode=b.spacingModeFromString(this.getValue(g,"spacingMode","length"));l.rotateMode=b.rotateModeFromString(this.getValue(g,"rotateMode","tangent"));l.offsetRotation=this.getValue(g,"rotation",0);l.position=this.getValue(g,"position",0);l.positionMode==d.PositionMode.Fixed&&(l.position*=e);l.spacing=this.getValue(g,"spacing",0);if(l.spacingMode==d.SpacingMode.Length||l.spacingMode==d.SpacingMode.Fixed)l.spacing*=e;l.rotateMix=this.getValue(g,"rotateMix",1);l.translateMix=this.getValue(g,"translateMix",
1);c.pathConstraints.push(l)}if(a.skins)for(var p in a.skins){f=a.skins[p];e=new d.Skin(p);for(n in f){l=c.findSlotIndex(n);if(-1==l)throw Error("Slot not found: "+n);var g=f[n],r;for(r in g)h=this.readAttachment(g[r],e,l,r),null!=h&&e.addAttachment(l,r,h)}c.skins.push(e);"default"==e.name&&(c.defaultSkin=e)}f=0;for(n=this.linkedMeshes.length;f<n;f++){p=this.linkedMeshes[f];e=null==p.skin?c.defaultSkin:c.findSkin(p.skin);if(null==e)throw Error("Skin not found: "+p.skin);r=e.getAttachment(p.slotIndex,
p.parent);if(null==r)throw Error("Parent mesh not found: "+p.parent);p.mesh.setParentMesh(r);p.mesh.updateUVs()}this.linkedMeshes.length=0;if(a.events)for(var z in a.events)n=a.events[z],l=new d.EventData(z),l.intValue=this.getValue(n,"int",0),l.floatValue=this.getValue(n,"float",0),l.stringValue=this.getValue(n,"string",""),c.events.push(l);if(a.animations)for(var t in a.animations)this.readAnimation(a.animations[t],t,c);return c};b.prototype.readAttachment=function(a,b,c,f){var e=this.scale;f=this.getValue(a,
"name",f);switch(this.getValue(a,"type","region")){case "region":var l=this.getValue(a,"path",f);c=this.attachmentLoader.newRegionAttachment(b,f,l);if(null==c)break;c.path=l;c.x=this.getValue(a,"x",0)*e;c.y=this.getValue(a,"y",0)*e;c.scaleX=this.getValue(a,"scaleX",1);c.scaleY=this.getValue(a,"scaleY",1);c.rotation=this.getValue(a,"rotation",0);c.width=a.width*e;c.height=a.height*e;e=this.getValue(a,"color",null);null!=e&&c.color.setFromString(e);c.updateOffset();return c;case "boundingbox":l=this.attachmentLoader.newBoundingBoxAttachment(b,
f);if(null==l)break;this.readVertices(a,l,a.vertexCount<<1);e=this.getValue(a,"color",null);null!=e&&l.color.setFromString(e);return l;case "mesh":case "linkedmesh":l=this.getValue(a,"path",f);b=this.attachmentLoader.newMeshAttachment(b,f,l);if(null==b)break;b.path=l;e=this.getValue(a,"color",null);null!=e&&b.color.setFromString(e);l=this.getValue(a,"parent",null);if(null!=l)return b.inheritDeform=this.getValue(a,"deform",!0),this.linkedMeshes.push(new g(b,this.getValue(a,"skin",null),c,l)),b;l=a.uvs;
this.readVertices(a,b,l.length);b.triangles=a.triangles;b.regionUVs=l;b.updateUVs();b.hullLength=2*this.getValue(a,"hull",0);return b;case "path":if(l=this.attachmentLoader.newPathAttachment(b,f),null!=l){l.closed=this.getValue(a,"closed",!1);l.constantSpeed=this.getValue(a,"constantSpeed",!0);c=a.vertexCount;this.readVertices(a,l,c<<1);c=d.Utils.newArray(c/3,0);for(b=0;b<a.lengths.length;b++)c[b++]=a.lengths[b]*e;l.lengths=c;e=this.getValue(a,"color",null);null!=e&&l.color.setFromString(e);return l}}return null};
b.prototype.readVertices=function(a,b,c){var e=this.scale;b.worldVerticesLength=c;a=a.vertices;if(c==a.length){if(1!=e){c=0;for(var g=a.length;c<g;c++)a[c]*=e}b.vertices=d.Utils.toFloatArray(a)}else{var l=[],h=[];c=0;for(g=a.length;c<g;){var n=a[c++];h.push(n);for(n=c+4*n;c<n;c+=4)h.push(a[c]),l.push(a[c+1]*e),l.push(a[c+2]*e),l.push(a[c+3])}b.bones=h;b.vertices=d.Utils.toFloatArray(l)}};b.prototype.readAnimation=function(a,b,c){var e=this.scale,g=[],l=0;if(a.slots)for(var h in a.slots){var n=a.slots[h],
m=c.findSlotIndex(h);if(-1==m)throw Error("Slot not found: "+h);for(var q in n){var p=n[q];if("color"==q){var r=new d.ColorTimeline(p.length);r.slotIndex=m;for(var z=0,t=0;t<p.length;t++){var u=p[t],x=new d.Color;x.setFromString(u.color);r.setFrame(z,u.time,x.r,x.g,x.b,x.a);this.readCurve(u,r,z);z++}g.push(r);l=Math.max(l,r.frames[(r.getFrameCount()-1)*d.ColorTimeline.ENTRIES])}else{q="attachment";r=new d.AttachmentTimeline(p.length);r.slotIndex=m;for(t=z=0;t<p.length;t++)u=p[t],r.setFrame(z++,u.time,
u.name);g.push(r);l=Math.max(l,r.frames[r.getFrameCount()-1])}}}if(a.bones)for(var B in a.bones){n=a.bones[B];x=c.findBoneIndex(B);if(-1==x)throw Error("Bone not found: "+B);for(q in n)if(p=n[q],"rotate"===q){r=new d.RotateTimeline(p.length);r.boneIndex=x;for(t=z=0;t<p.length;t++)u=p[t],r.setFrame(z,u.time,u.angle),this.readCurve(u,r,z),z++;g.push(r);l=Math.max(l,r.frames[(r.getFrameCount()-1)*d.RotateTimeline.ENTRIES])}else if("translate"===q||"scale"===q||"shear"===q){m=1;"scale"===q?r=new d.ScaleTimeline(p.length):
"shear"===q?r=new d.ShearTimeline(p.length):(r=new d.TranslateTimeline(p.length),m=e);r.boneIndex=x;for(t=z=0;t<p.length;t++){var u=p[t],v=this.getValue(u,"x",0),w=this.getValue(u,"y",0);r.setFrame(z,u.time,v*m,w*m);this.readCurve(u,r,z);z++}g.push(r);l=Math.max(l,r.frames[(r.getFrameCount()-1)*d.TranslateTimeline.ENTRIES])}else throw Error("Invalid timeline type for a bone: "+q+" ("+B+")");}if(a.ik)for(var A in a.ik){n=a.ik[A];z=c.findIkConstraint(A);r=new d.IkConstraintTimeline(n.length);r.ikConstraintIndex=
c.ikConstraints.indexOf(z);for(t=z=0;t<n.length;t++)u=n[t],r.setFrame(z,u.time,this.getValue(u,"mix",1),this.getValue(u,"bendPositive",!0)?1:-1),this.readCurve(u,r,z),z++;g.push(r);l=Math.max(l,r.frames[(r.getFrameCount()-1)*d.IkConstraintTimeline.ENTRIES])}if(a.transform)for(A in a.transform){n=a.transform[A];z=c.findTransformConstraint(A);r=new d.TransformConstraintTimeline(n.length);r.transformConstraintIndex=c.transformConstraints.indexOf(z);for(t=z=0;t<n.length;t++)u=n[t],r.setFrame(z,u.time,
this.getValue(u,"rotateMix",1),this.getValue(u,"translateMix",1),this.getValue(u,"scaleMix",1),this.getValue(u,"shearMix",1)),this.readCurve(u,r,z),z++;g.push(r);l=Math.max(l,r.frames[(r.getFrameCount()-1)*d.TransformConstraintTimeline.ENTRIES])}if(a.paths)for(A in a.paths){n=a.paths[A];B=c.findPathConstraintIndex(A);if(-1==B)throw Error("Path constraint not found: "+A);x=c.pathConstraints[B];for(q in n)if(p=n[q],"position"===q||"spacing"===q){m=1;if("spacing"===q){if(r=new d.PathConstraintSpacingTimeline(p.length),
x.spacingMode==d.SpacingMode.Length||x.spacingMode==d.SpacingMode.Fixed)m=e}else r=new d.PathConstraintPositionTimeline(p.length),x.positionMode==d.PositionMode.Fixed&&(m=e);r.pathConstraintIndex=B;for(t=z=0;t<p.length;t++)u=p[t],r.setFrame(z,u.time,this.getValue(u,q,0)*m),this.readCurve(u,r,z),z++;g.push(r);l=Math.max(l,r.frames[(r.getFrameCount()-1)*d.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===q){r=new d.PathConstraintMixTimeline(p.length);r.pathConstraintIndex=B;for(t=z=0;t<p.length;t++)u=
p[t],r.setFrame(z,u.time,this.getValue(u,"rotateMix",1),this.getValue(u,"translateMix",1)),this.readCurve(u,r,z),z++;g.push(r);l=Math.max(l,r.frames[(r.getFrameCount()-1)*d.PathConstraintMixTimeline.ENTRIES])}}if(a.deform)for(var C in a.deform){B=a.deform[C];x=c.findSkin(C);if(null==x)throw Error("Skin not found: "+C);for(h in B){n=B[h];m=c.findSlotIndex(h);if(-1==m)throw Error("Slot not found: "+n.name);for(q in n){p=n[q];z=x.getAttachment(m,q);if(null==z)throw Error("Deform attachment not found: "+
p.name);var v=null!=z.bones,w=z.vertices,I=v?w.length/3*2:w.length,r=new d.DeformTimeline(p.length);r.slotIndex=m;r.attachment=z;for(A=z=0;A<p.length;A++){var u=p[A],F,E=this.getValue(u,"vertices",null);if(null==E)F=v?d.Utils.newFloatArray(I):w;else{F=d.Utils.newFloatArray(I);t=this.getValue(u,"offset",0);d.Utils.arrayCopy(E,0,F,t,E.length);if(1!=e)for(E=t+E.length;t<E;t++)F[t]*=e;if(!v)for(t=0;t<I;t++)F[t]+=w[t]}r.setFrame(z,u.time,F);this.readCurve(u,r,z);z++}g.push(r);l=Math.max(l,r.frames[r.getFrameCount()-
1])}}}e=a.drawOrder;null==e&&(e=a.draworder);if(null!=e){r=new d.DrawOrderTimeline(e.length);h=c.slots.length;for(A=z=0;A<e.length;A++){q=e[A];C=null;p=this.getValue(q,"offsets",null);if(null!=p){C=d.Utils.newArray(h,-1);u=d.Utils.newArray(h-p.length,0);for(t=B=n=0;t<p.length;t++){x=p[t];m=c.findSlotIndex(x.slot);if(-1==m)throw Error("Slot not found: "+x.slot);for(;n!=m;)u[B++]=n++;C[n+x.offset]=n++}for(;n<h;)u[B++]=n++;for(t=h-1;0<=t;t--)-1==C[t]&&(C[t]=u[--B])}r.setFrame(z++,q.time,C)}g.push(r);
l=Math.max(l,r.frames[r.getFrameCount()-1])}if(a.events){r=new d.EventTimeline(a.events.length);for(t=z=0;t<a.events.length;t++){e=a.events[t];h=c.findEvent(e.name);if(null==h)throw Error("Event not found: "+e.name);m=new d.Event(e.time,h);m.intValue=this.getValue(e,"int",h.intValue);m.floatValue=this.getValue(e,"float",h.floatValue);m.stringValue=this.getValue(e,"string",h.stringValue);r.setFrame(z++,m)}g.push(r);l=Math.max(l,r.frames[r.getFrameCount()-1])}if(isNaN(l))throw Error("Error while parsing animation, duration is NaN");
c.animations.push(new d.Animation(b,g,l))};b.prototype.readCurve=function(a,b,c){a.curve&&("stepped"===a.curve?b.setStepped(c):"[object Array]"===Object.prototype.toString.call(a.curve)&&(a=a.curve,b.setCurve(c,a[0],a[1],a[2],a[3])))};b.prototype.getValue=function(a,b,c){return void 0!==a[b]?a[b]:c};b.blendModeFromString=function(a){a=a.toLowerCase();if("normal"==a)return d.BlendMode.Normal;if("additive"==a)return d.BlendMode.Additive;if("multiply"==a)return d.BlendMode.Multiply;if("screen"==a)return d.BlendMode.Screen;
throw Error("Unknown blend mode: "+a);};b.positionModeFromString=function(a){a=a.toLowerCase();if("fixed"==a)return d.PositionMode.Fixed;if("percent"==a)return d.PositionMode.Percent;throw Error("Unknown position mode: "+a);};b.spacingModeFromString=function(a){a=a.toLowerCase();if("length"==a)return d.SpacingMode.Length;if("fixed"==a)return d.SpacingMode.Fixed;if("percent"==a)return d.SpacingMode.Percent;throw Error("Unknown position mode: "+a);};b.rotateModeFromString=function(a){a=a.toLowerCase();
if("tangent"==a)return d.RotateMode.Tangent;if("chain"==a)return d.RotateMode.Chain;if("chainscale"==a)return d.RotateMode.ChainScale;throw Error("Unknown rotate mode: "+a);};b.transformModeFromString=function(a){a=a.toLowerCase();if("normal"==a)return d.TransformMode.Normal;if("onlytranslation"==a)return d.TransformMode.OnlyTranslation;if("norotationorreflection"==a)return d.TransformMode.NoRotationOrReflection;if("noscale"==a)return d.TransformMode.NoScale;if("noscaleorreflection"==a)return d.TransformMode.NoScaleOrReflection;
throw Error("Unknown transform mode: "+a);};return b}();d.SkeletonJson=n;var g=function(){return function(b,a,e,c){this.mesh=b;this.skin=a;this.slotIndex=e;this.parent=c}}()})(spine||(spine={}));
(function(d){var n=function(){function d(b){this.attachments=[];if(null==b)throw Error("name cannot be null.");this.name=b}d.prototype.addAttachment=function(b,a,e){if(null==e)throw Error("attachment cannot be null.");var c=this.attachments;b>=c.length&&(c.length=b+1);c[b]||(c[b]={});c[b][a]=e};d.prototype.getAttachment=function(b,a){var e=this.attachments[b];return e?e[a]:null};d.prototype.attachAll=function(b,a){for(var e=0,c=0;c<b.slots.length;c++){var d=b.slots[c],g=d.getAttachment();if(g&&e<
a.attachments.length){var l=a.attachments[e],h;for(h in l)if(g==l[h]){g=this.getAttachment(e,h);null!=g&&d.setAttachment(g);break}}e++}};return d}();d.Skin=n})(spine||(spine={}));
(function(d){var n=function(){function g(b,a){this.attachmentVertices=[];if(null==b)throw Error("data cannot be null.");if(null==a)throw Error("bone cannot be null.");this.data=b;this.bone=a;this.color=new d.Color;this.setToSetupPose()}g.prototype.getAttachment=function(){return this.attachment};g.prototype.setAttachment=function(b){this.attachment!=b&&(this.attachment=b,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)};g.prototype.setAttachmentTime=function(b){this.attachmentTime=
this.bone.skeleton.time-b};g.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime};g.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color);null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))};return g}();d.Slot=n})(spine||(spine={}));
(function(d){var n=function(){return function(g,b,a){this.color=new d.Color(1,1,1,1);if(0>g)throw Error("index must be >= 0.");if(null==b)throw Error("name cannot be null.");if(null==a)throw Error("boneData cannot be null.");this.index=g;this.name=b;this.boneData=a}}();d.SlotData=n})(spine||(spine={}));
(function(d){var n=function(){function a(a){this._image=a}a.prototype.getImage=function(){return this._image};a.filterFromString=function(a){switch(a.toLowerCase()){case "nearest":return g.Nearest;case "linear":return g.Linear;case "mipmap":return g.MipMap;case "mipmapnearestnearest":return g.MipMapNearestNearest;case "mipmaplinearnearest":return g.MipMapLinearNearest;case "mipmapnearestlinear":return g.MipMapNearestLinear;case "mipmaplinearlinear":return g.MipMapLinearLinear;default:throw Error("Unknown texture filter "+
a);}};a.wrapFromString=function(a){switch(a.toLowerCase()){case "mirroredtepeat":return b.MirroredRepeat;case "clamptoedge":return b.ClampToEdge;case "repeat":return b.Repeat;default:throw Error("Unknown texture wrap "+a);}};return a}();d.Texture=n;(function(a){a[a.Nearest=9728]="Nearest";a[a.Linear=9729]="Linear";a[a.MipMap=9987]="MipMap";a[a.MipMapNearestNearest=9984]="MipMapNearestNearest";a[a.MipMapLinearNearest=9985]="MipMapLinearNearest";a[a.MipMapNearestLinear=9986]="MipMapNearestLinear";a[a.MipMapLinearLinear=
9987]="MipMapLinearLinear"})(d.TextureFilter||(d.TextureFilter={}));var g=d.TextureFilter;(function(a){a[a.MirroredRepeat=33648]="MirroredRepeat";a[a.ClampToEdge=33071]="ClampToEdge";a[a.Repeat=10497]="Repeat"})(d.TextureWrap||(d.TextureWrap={}));var b=d.TextureWrap,n=function(){return function(){this.height=this.width=this.v2=this.u2=this.v=this.u=0;this.rotate=!1;this.originalHeight=this.originalWidth=this.offsetY=this.offsetX=0}}();d.TextureRegion=n})(spine||(spine={}));
(function(d){var n=function(){function e(a,b){this.pages=[];this.regions=[];this.load(a,b)}e.prototype.load=function(c,e){if(null==e)throw Error("textureLoader cannot be null.");for(var f=new g(c),l=Array(4),h=null;;){var n=f.readLine();if(null==n)break;n=n.trim();if(0==n.length)h=null;else if(h){var m=new a;m.name=n;m.page=h;m.rotate="true"==f.readValue();f.readTuple(l);var n=parseInt(l[0]),q=parseInt(l[1]);f.readTuple(l);var p=parseInt(l[0]),r=parseInt(l[1]);m.u=n/h.width;m.v=q/h.height;m.rotate?
(m.u2=(n+r)/h.width,m.v2=(q+p)/h.height):(m.u2=(n+p)/h.width,m.v2=(q+r)/h.height);m.x=n;m.y=q;m.width=Math.abs(p);m.height=Math.abs(r);4==f.readTuple(l)&&4==f.readTuple(l)&&f.readTuple(l);m.originalWidth=parseInt(l[0]);m.originalHeight=parseInt(l[1]);f.readTuple(l);m.offsetX=parseInt(l[0]);m.offsetY=parseInt(l[1]);m.index=parseInt(f.readValue());m.texture=h.texture;this.regions.push(m)}else h=new b,h.name=n,2==f.readTuple(l)&&(h.width=parseInt(l[0]),h.height=parseInt(l[1]),f.readTuple(l)),f.readTuple(l),
h.minFilter=d.Texture.filterFromString(l[0]),h.magFilter=d.Texture.filterFromString(l[1]),m=f.readValue(),h.uWrap=d.TextureWrap.ClampToEdge,h.vWrap=d.TextureWrap.ClampToEdge,"x"==m?h.uWrap=d.TextureWrap.Repeat:"y"==m?h.vWrap=d.TextureWrap.Repeat:"xy"==m&&(h.uWrap=h.vWrap=d.TextureWrap.Repeat),h.texture=e(n),h.texture.setFilters(h.minFilter,h.magFilter),h.texture.setWraps(h.uWrap,h.vWrap),h.width=h.texture.getImage().width,h.height=h.texture.getImage().height,this.pages.push(h)}};e.prototype.findRegion=
function(a){for(var b=0;b<this.regions.length;b++)if(this.regions[b].name==a)return this.regions[b];return null};e.prototype.dispose=function(){for(var a=0;a<this.pages.length;a++)this.pages[a].texture.dispose()};return e}();d.TextureAtlas=n;var g=function(){function a(a){this.index=0;this.lines=a.split(/\r\n|\r|\n/)}a.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]};a.prototype.readValue=function(){var a=this.readLine(),b=a.indexOf(":");if(-1==b)throw Error("Invalid line: "+
a);return a.substring(b+1).trim()};a.prototype.readTuple=function(a){var b=this.readLine(),c=b.indexOf(":");if(-1==c)throw Error("Invalid line: "+b);for(var e=0,c=c+1;3>e;e++){var d=b.indexOf(",",c);if(-1==d)break;a[e]=b.substr(c,d-c).trim();c=d+1}a[e]=b.substring(c).trim();return e+1};return a}(),b=function(){return function(){}}();d.TextureAtlasPage=b;var a=function(a){function b(){a.apply(this,arguments)}__extends(b,a);return b}(d.TextureRegion);d.TextureAtlasRegion=a})(spine||(spine={}));
(function(d){var n=function(){function g(b,a){this.shearMix=this.scaleMix=this.translateMix=this.rotateMix=0;this.temp=new d.Vector2;if(null==b)throw Error("data cannot be null.");if(null==a)throw Error("skeleton cannot be null.");this.data=b;this.rotateMix=b.rotateMix;this.translateMix=b.translateMix;this.scaleMix=b.scaleMix;this.shearMix=b.shearMix;this.bones=[];for(var e=0;e<b.bones.length;e++)this.bones.push(a.findBone(b.bones[e].name));this.target=a.findBone(b.target.name)}g.prototype.apply=
function(){this.update()};g.prototype.update=function(){for(var b=this.rotateMix,a=this.translateMix,e=this.scaleMix,c=this.shearMix,f=this.target,g=f.a,l=f.b,h=f.c,n=f.d,m=0<g*n-l*h?d.MathUtils.degRad:-d.MathUtils.degRad,q=this.data.offsetRotation*m,m=this.data.offsetShearY*m,p=this.bones,r=0,z=p.length;r<z;r++){var t=p[r],u=!1;if(0!=b){var x=t.a,u=t.b,B=t.c,v=t.d,w=Math.atan2(h,g)-Math.atan2(B,x)+q;w>d.MathUtils.PI?w-=d.MathUtils.PI2:w<-d.MathUtils.PI&&(w+=d.MathUtils.PI2);var w=w*b,A=Math.cos(w),
w=Math.sin(w);t.a=A*x-w*B;t.b=A*u-w*v;t.c=w*x+A*B;t.d=w*u+A*v;u=!0}0!=a&&(u=this.temp,f.localToWorld(u.set(this.data.offsetX,this.data.offsetY)),t.worldX+=(u.x-t.worldX)*a,t.worldY+=(u.y-t.worldY)*a,u=!0);0<e&&(u=Math.sqrt(t.a*t.a+t.c*t.c),v=Math.sqrt(g*g+h*h),1E-5<u&&(u=(u+(v-u+this.data.offsetScaleX)*e)/u),t.a*=u,t.c*=u,u=Math.sqrt(t.b*t.b+t.d*t.d),v=Math.sqrt(l*l+n*n),1E-5<u&&(u=(u+(v-u+this.data.offsetScaleY)*e)/u),t.b*=u,t.d*=u,u=!0);0<c&&(u=t.b,v=t.d,x=Math.atan2(v,u),w=Math.atan2(n,l)-Math.atan2(h,
g)-(x-Math.atan2(t.c,t.a)),w>d.MathUtils.PI?w-=d.MathUtils.PI2:w<-d.MathUtils.PI&&(w+=d.MathUtils.PI2),w=x+(w+m)*c,u=Math.sqrt(u*u+v*v),t.b=Math.cos(w)*u,t.d=Math.sin(w)*u,u=!0);u&&(t.appliedValid=!1)}};g.prototype.getOrder=function(){return this.data.order};return g}();d.TransformConstraint=n})(spine||(spine={}));
(function(d){var n=function(){return function(d){this.order=0;this.bones=[];this.offsetShearY=this.offsetScaleY=this.offsetScaleX=this.offsetY=this.offsetX=this.offsetRotation=this.shearMix=this.scaleMix=this.translateMix=this.rotateMix=0;if(null==d)throw Error("name cannot be null.");this.name=d}}();d.TransformConstraintData=n})(spine||(spine={}));
(function(d){var n=function(){function d(){this.array=[]}d.prototype.add=function(b){var a=this.contains(b);this.array[b|0]=b|0;return!a};d.prototype.contains=function(b){return void 0!=this.array[b|0]};d.prototype.remove=function(b){this.array[b|0]=void 0};d.prototype.clear=function(){this.array.length=0};return d}();d.IntSet=n;n=function(){function d(b,a,e,c){void 0===b&&(b=0);void 0===a&&(a=0);void 0===e&&(e=0);void 0===c&&(c=0);this.r=b;this.g=a;this.b=e;this.a=c}d.prototype.set=function(b,a,
e,c){this.r=b;this.g=a;this.b=e;this.a=c;this.clamp();return this};d.prototype.setFromColor=function(b){this.r=b.r;this.g=b.g;this.b=b.b;this.a=b.a;return this};d.prototype.setFromString=function(b){b="#"==b.charAt(0)?b.substr(1):b;this.r=parseInt(b.substr(0,2),16)/255;this.g=parseInt(b.substr(2,2),16)/255;this.b=parseInt(b.substr(4,2),16)/255;this.a=(8!=b.length?255:parseInt(b.substr(6,2),16))/255;return this};d.prototype.add=function(b,a,e,c){this.r+=b;this.g+=a;this.b+=e;this.a+=c;this.clamp();
return this};d.prototype.clamp=function(){0>this.r?this.r=0:1<this.r&&(this.r=1);0>this.g?this.g=0:1<this.g&&(this.g=1);0>this.b?this.b=0:1<this.b&&(this.b=1);0>this.a?this.a=0:1<this.a&&(this.a=1);return this};d.WHITE=new d(1,1,1,1);d.RED=new d(1,0,0,1);d.GREEN=new d(0,1,0,1);d.BLUE=new d(0,0,1,1);d.MAGENTA=new d(1,0,1,1);return d}();d.Color=n;n=function(){function d(){}d.clamp=function(b,a,e){return b<a?a:b>e?e:b};d.cosDeg=function(b){return Math.cos(b*d.degRad)};d.sinDeg=function(b){return Math.sin(b*
d.degRad)};d.signum=function(b){return 0<b?1:0>b?-1:0};d.toInt=function(b){return 0<b?Math.floor(b):Math.ceil(b)};d.cbrt=function(b){var a=Math.pow(Math.abs(b),1/3);return 0>b?-a:a};d.PI=3.1415927;d.PI2=2*d.PI;d.radiansToDegrees=180/d.PI;d.radDeg=d.radiansToDegrees;d.degreesToRadians=d.PI/180;d.degRad=d.degreesToRadians;return d}();d.MathUtils=n;n=function(){function d(){}d.arrayCopy=function(b,a,e,c,d){for(var f=a;f<a+d;f++,c++)e[c]=b[f]};d.setArraySize=function(b,a,e){void 0===e&&(e=0);var c=b.length;
if(c==a)return b;b.length=a;if(c<a)for(;c<a;c++)b[c]=e;return b};d.ensureArrayCapacity=function(b,a,e){void 0===e&&(e=0);return b.length>=a?b:d.setArraySize(b,a,e)};d.newArray=function(b,a){for(var e=Array(b),c=0;c<b;c++)e[c]=a;return e};d.newFloatArray=function(b){if(d.SUPPORTS_TYPED_ARRAYS)return new Float32Array(b);b=Array(b);for(var a=0;a<b.length;a++)b[a]=0;return b};d.toFloatArray=function(b){return d.SUPPORTS_TYPED_ARRAYS?new Float32Array(b):b};d.SUPPORTS_TYPED_ARRAYS="undefined"!==typeof Float32Array;
return d}();d.Utils=n;n=function(){function d(){}d.logBones=function(b){for(var a=0;a<b.bones.length;a++){var e=b.bones[a];console.log(e.data.name+", "+e.a+", "+e.b+", "+e.c+", "+e.d+", "+e.worldX+", "+e.worldY)}};return d}();d.DebugUtils=n;n=function(){function d(b){this.items=[];this.instantiator=b}d.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()};d.prototype.free=function(b){b.reset&&b.reset();this.items.push(b)};d.prototype.freeAll=function(b){for(var a=
0;a<b.length;a++)b[a].reset&&b[a].reset(),this.items[a]=b[a]};d.prototype.clear=function(){this.items.length=0};return d}();d.Pool=n;n=function(){function d(b,a){void 0===b&&(b=0);void 0===a&&(a=0);this.x=b;this.y=a}d.prototype.set=function(b,a){this.x=b;this.y=a;return this};d.prototype.length=function(){var b=this.x,a=this.y;return Math.sqrt(b*b+a*a)};d.prototype.normalize=function(){var b=this.length();0!=b&&(this.x/=b,this.y/=b);return this};return d}();d.Vector2=n;n=function(){function d(){this.maxDelta=
.064;this.totalTime=this.delta=this.framesPerSecond=0;this.lastTime=Date.now()/1E3;this.frameTime=this.frameCount=0}d.prototype.update=function(){var b=Date.now()/1E3;this.delta=b-this.lastTime;this.frameTime+=this.delta;this.totalTime+=this.delta;this.delta>this.maxDelta&&(this.delta=this.maxDelta);this.lastTime=b;this.frameCount++;1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameCount=this.frameTime=0)};return d}();d.TimeKeeper=n})(spine||(spine={}));
(function(d){(function(n){var g=function(b){function a(a){void 0===a&&(a="");b.call(this,function(a){return new n.ThreeJsTexture(a)},a)}__extends(a,b);return a}(d.AssetManager);n.AssetManager=g})(d.threejs||(d.threejs={}))})(spine||(spine={}));
(function(d){(function(d){var g=function(){function b(a,e){void 0===e&&(e=10920);this.indicesLength=this.verticesLength=0;if(10920<e)throw Error("Can't have more than 10920 triangles per batch: "+e);var c=this.vertices=new Float32Array(e*b.VERTEX_SIZE),d=this.indices=new Uint16Array(3*e);this.mesh=a;var g=new THREE.BufferGeometry,c=this.vertexBuffer=new THREE.InterleavedBuffer(c,b.VERTEX_SIZE);c.dynamic=!0;g.addAttribute("position",new THREE.InterleavedBufferAttribute(c,3,0,!1));g.addAttribute("color",
new THREE.InterleavedBufferAttribute(c,4,3,!1));g.addAttribute("uv",new THREE.InterleavedBufferAttribute(c,2,7,!1));g.setIndex(new THREE.BufferAttribute(d,1));g.getIndex().dynamic=!0;g.drawRange.start=0;g.drawRange.count=0;a.geometry=g}b.prototype.begin=function(){this.indicesLength=this.verticesLength=0};b.prototype.batch=function(a,e,c){void 0===c&&(c=0);for(var d=this.verticesLength/b.VERTEX_SIZE,g=this.vertices,l=this.verticesLength,h=0;h<a.length;)g[l++]=a[h++],g[l++]=a[h++],g[l++]=c,g[l++]=
a[h++],g[l++]=a[h++],g[l++]=a[h++],g[l++]=a[h++],g[l++]=a[h++],g[l++]=a[h++];this.verticesLength=l;a=this.indices;l=this.indicesLength;for(h=0;h<e.length;l++,h++)a[l]=e[h]+d;this.indicesLength+=e.length};b.prototype.end=function(){this.vertexBuffer.needsUpdate=!0;this.vertexBuffer.updateRange.offset=0;this.vertexBuffer.updateRange.count=this.verticesLength;var a=this.mesh.geometry;a.getIndex().needsUpdate=!0;a.getIndex().updateRange.offset=0;a.getIndex().updateRange.count=this.indicesLength;a.drawRange.start=
0;a.drawRange.count=this.indicesLength};b.VERTEX_SIZE=9;return b}();d.MeshBatcher=g})(d.threejs||(d.threejs={}))})(spine||(spine={}));
(function(d){(function(n){var g=function(b){function a(a){b.call(this);this.zOffset=.1;this.skeleton=new d.Skeleton(a);a=new d.AnimationStateData(a);this.state=new d.AnimationState(a);a=this.material=new THREE.MeshBasicMaterial;a.side=THREE.DoubleSide;a.transparent=!0;a.alphaTest=.5;this.batcher=new n.MeshBatcher(this)}__extends(a,b);a.prototype.update=function(a){var b=this.state,e=this.skeleton;b.update(a);b.apply(e);e.updateWorldTransform();this.updateGeometry()};a.prototype.updateGeometry=function(){var b,
c,f=this.skeleton.drawOrder,g=this.batcher;g.begin();for(var l=0,h=this.zOffset,n=0,m=f.length;n<m;n++){b=f[n];c=b.getAttachment();var q;if(c instanceof d.RegionAttachment)q=c,b=q.updateWorldVertices(b,!1),c=a.QUAD_TRIANGLES,q=q.region.renderObject.texture;else if(c instanceof d.MeshAttachment)q=c,b=q.updateWorldVertices(b,!1),c=q.triangles,q=q.region.renderObject.texture;else continue;if(null!=q){if(!this.material.map){var p=this.material;p.map=q.texture;p.needsUpdate=!0}this.batcher.batch(b,c,l);
l+=h}}g.end()};a.createMesh=function(a){var b=new THREE.BufferGeometry,d=new Float32Array(1024);d.set([-200,-200,1,0,0,1,0,0,200,-200,0,1,0,1,1,0,200,200,0,0,1,1,1,1,-200,200,1,1,0,.1,0,1],0);var d=new THREE.InterleavedBuffer(d,8),e=new THREE.InterleavedBufferAttribute(d,2,0,!1);b.addAttribute("position",e);e=new THREE.InterleavedBufferAttribute(d,4,2,!1);b.addAttribute("color",e);new THREE.InterleavedBufferAttribute(d,2,6,!1);b.addAttribute("uv",e);d=new Uint16Array(1024);d.set([0,1,2,2,3,0],0);
b.setIndex(new THREE.BufferAttribute(d,1));b.drawRange.start=0;b.drawRange.count=6;d=new THREE.MeshBasicMaterial;d.vertexColors=THREE.VertexColors;d.transparent=!0;d.map=a;return new THREE.Mesh(b,d)};a.QUAD_TRIANGLES=[0,1,2,2,3,0];return a}(THREE.Mesh);n.SkeletonMesh=g})(d.threejs||(d.threejs={}))})(spine||(spine={}));
(function(d){(function(n){var g=function(b){function a(a){b.call(this,a);this.texture=new THREE.Texture(a);this.texture.flipY=!1;this.texture.needsUpdate=!0}__extends(a,b);a.prototype.setFilters=function(b,c){this.texture.minFilter=a.toThreeJsTextureFilter(b);this.texture.magFilter=a.toThreeJsTextureFilter(c)};a.prototype.setWraps=function(b,c){this.texture.wrapS=a.toThreeJsTextureWrap(b);this.texture.wrapT=a.toThreeJsTextureWrap(c)};a.prototype.dispose=function(){this.texture.dispose()};a.toThreeJsTextureFilter=
function(a){if(a===d.TextureFilter.Linear)return THREE.LinearFilter;if(a===d.TextureFilter.MipMap)return THREE.LinearMipMapLinearFilter;if(a===d.TextureFilter.MipMapLinearNearest)return THREE.LinearMipMapNearestFilter;if(a===d.TextureFilter.MipMapNearestLinear)return THREE.NearestMipMapLinearFilter;if(a===d.TextureFilter.MipMapNearestNearest)return THREE.NearestMipMapNearestFilter;if(a===d.TextureFilter.Nearest)return THREE.NearestFilter;throw Error("Unknown texture filter: "+a);};a.toThreeJsTextureWrap=
function(a){if(a===d.TextureWrap.ClampToEdge)return THREE.ClampToEdgeWrapping;if(a===d.TextureWrap.MirroredRepeat)return THREE.MirroredRepeatWrapping;if(a===d.TextureWrap.Repeat)return THREE.RepeatWrapping;throw Error("Unknown texture wrap: "+a);};return a}(d.Texture);n.ThreeJsTexture=g})(d.threejs||(d.threejs={}))})(spine||(spine={}));